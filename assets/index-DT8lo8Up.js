(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fi(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const fe={},An=[],$t=()=>{},vl=()=>!1,pr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ji=e=>e.startsWith("onUpdate:"),Le=Object.assign,Hi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Dc=Object.prototype.hasOwnProperty,le=(e,t)=>Dc.call(e,t),W=Array.isArray,Tn=e=>hr(e)==="[object Map]",xl=e=>hr(e)==="[object Set]",K=e=>typeof e=="function",Re=e=>typeof e=="string",ln=e=>typeof e=="symbol",De=e=>e!==null&&typeof e=="object",wl=e=>(De(e)||K(e))&&K(e.then)&&K(e.catch),kl=Object.prototype.toString,hr=e=>kl.call(e),Ec=e=>hr(e).slice(8,-1),Dl=e=>hr(e)==="[object Object]",Bi=e=>Re(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ss=Fi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yr=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},$c=/-\w/g,it=yr(e=>e.replace($c,t=>t.slice(1).toUpperCase())),Sc=/\B([A-Z])/g,wn=yr(e=>e.replace(Sc,"-$1").toLowerCase()),mr=yr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Br=yr(e=>e?`on${mr(e)}`:""),_t=(e,t)=>!Object.is(e,t),Ls=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},El=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},_r=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Do;const gr=()=>Do||(Do=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Li(e){if(W(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=Re(s)?Rc(s):Li(s);if(r)for(const i in r)t[i]=r[i]}return t}else if(Re(e)||De(e))return e}const Cc=/;(?![^(]*\))/g,Ac=/:([^]+)/,Tc=/\/\*[^]*?\*\//g;function Rc(e){const t={};return e.replace(Tc,"").split(Cc).forEach(n=>{if(n){const s=n.split(Ac);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Mt(e){let t="";if(Re(e))t=e;else if(W(e))for(let n=0;n<e.length;n++){const s=Mt(e[n]);s&&(t+=s+" ")}else if(De(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Nc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Oc=Fi(Nc);function $l(e){return!!e||e===""}const Sl=e=>!!(e&&e.__v_isRef===!0),F=e=>Re(e)?e:e==null?"":W(e)||De(e)&&(e.toString===kl||!K(e.toString))?Sl(e)?F(e.value):JSON.stringify(e,Cl,2):String(e),Cl=(e,t)=>Sl(t)?Cl(e,t.value):Tn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],i)=>(n[Lr(s,i)+" =>"]=r,n),{})}:xl(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Lr(n))}:ln(t)?Lr(t):De(t)&&!W(t)&&!Dl(t)?String(t):t,Lr=(e,t="")=>{var n;return ln(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fe;class Ic{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Fe,!t&&Fe&&(this.index=(Fe.scopes||(Fe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Fe;try{return Fe=this,t()}finally{Fe=n}}}on(){++this._on===1&&(this.prevScope=Fe,Fe=this)}off(){this._on>0&&--this._on===0&&(Fe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Al(){return Fe}function Pc(e,t=!1){Fe&&Fe.cleanups.push(e)}let ye;const Vr=new WeakSet;class Tl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Fe&&Fe.active&&Fe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Vr.has(this)&&(Vr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Nl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Eo(this),Ol(this);const t=ye,n=ut;ye=this,ut=!0;try{return this.fn()}finally{Il(this),ye=t,ut=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ui(t);this.deps=this.depsTail=void 0,Eo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Vr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ei(this)&&this.run()}get dirty(){return ei(this)}}let Rl=0,rs,is;function Nl(e,t=!1){if(e.flags|=8,t){e.next=is,is=e;return}e.next=rs,rs=e}function Vi(){Rl++}function qi(){if(--Rl>0)return;if(is){let t=is;for(is=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;rs;){let t=rs;for(rs=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Ol(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Il(e){let t,n=e.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Ui(s),Mc(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}e.deps=t,e.depsTail=n}function ei(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Pl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Pl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ys)||(e.globalVersion=ys,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ei(e))))return;e.flags|=2;const t=e.dep,n=ye,s=ut;ye=e,ut=!0;try{Ol(e);const r=e.fn(e._value);(t.version===0||_t(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{ye=n,ut=s,Il(e),e.flags&=-3}}function Ui(e,t=!1){const{dep:n,prevSub:s,nextSub:r}=e;if(s&&(s.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Ui(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Mc(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ut=!0;const Ml=[];function Ft(){Ml.push(ut),ut=!1}function jt(){const e=Ml.pop();ut=e===void 0?!0:e}function Eo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ye;ye=void 0;try{t()}finally{ye=n}}}let ys=0;class Fc{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class zi{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ye||!ut||ye===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ye)n=this.activeLink=new Fc(ye,this),ye.deps?(n.prevDep=ye.depsTail,ye.depsTail.nextDep=n,ye.depsTail=n):ye.deps=ye.depsTail=n,Fl(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=ye.depsTail,n.nextDep=void 0,ye.depsTail.nextDep=n,ye.depsTail=n,ye.deps===n&&(ye.deps=s)}return n}trigger(t){this.version++,ys++,this.notify(t)}notify(t){Vi();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{qi()}}}function Fl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Fl(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ti=new WeakMap,bn=Symbol(""),ni=Symbol(""),ms=Symbol("");function je(e,t,n){if(ut&&ye){let s=ti.get(e);s||ti.set(e,s=new Map);let r=s.get(n);r||(s.set(n,r=new zi),r.map=s,r.key=n),r.track()}}function Ot(e,t,n,s,r,i){const o=ti.get(e);if(!o){ys++;return}const l=a=>{a&&a.trigger()};if(Vi(),t==="clear")o.forEach(l);else{const a=W(e),d=a&&Bi(n);if(a&&n==="length"){const u=Number(s);o.forEach((m,g)=>{(g==="length"||g===ms||!ln(g)&&g>=u)&&l(m)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),d&&l(o.get(ms)),t){case"add":a?d&&l(o.get("length")):(l(o.get(bn)),Tn(e)&&l(o.get(ni)));break;case"delete":a||(l(o.get(bn)),Tn(e)&&l(o.get(ni)));break;case"set":Tn(e)&&l(o.get(bn));break}}qi()}function En(e){const t=oe(e);return t===e?t:(je(t,"iterate",ms),rt(e)?t:t.map(Pe))}function br(e){return je(e=oe(e),"iterate",ms),e}const jc={__proto__:null,[Symbol.iterator](){return qr(this,Symbol.iterator,Pe)},concat(...e){return En(this).concat(...e.map(t=>W(t)?En(t):t))},entries(){return qr(this,"entries",e=>(e[1]=Pe(e[1]),e))},every(e,t){return Tt(this,"every",e,t,void 0,arguments)},filter(e,t){return Tt(this,"filter",e,t,n=>n.map(Pe),arguments)},find(e,t){return Tt(this,"find",e,t,Pe,arguments)},findIndex(e,t){return Tt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Tt(this,"findLast",e,t,Pe,arguments)},findLastIndex(e,t){return Tt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Tt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ur(this,"includes",e)},indexOf(...e){return Ur(this,"indexOf",e)},join(e){return En(this).join(e)},lastIndexOf(...e){return Ur(this,"lastIndexOf",e)},map(e,t){return Tt(this,"map",e,t,void 0,arguments)},pop(){return Qn(this,"pop")},push(...e){return Qn(this,"push",e)},reduce(e,...t){return $o(this,"reduce",e,t)},reduceRight(e,...t){return $o(this,"reduceRight",e,t)},shift(){return Qn(this,"shift")},some(e,t){return Tt(this,"some",e,t,void 0,arguments)},splice(...e){return Qn(this,"splice",e)},toReversed(){return En(this).toReversed()},toSorted(e){return En(this).toSorted(e)},toSpliced(...e){return En(this).toSpliced(...e)},unshift(...e){return Qn(this,"unshift",e)},values(){return qr(this,"values",Pe)}};function qr(e,t,n){const s=br(e),r=s[t]();return s!==e&&!rt(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=n(i.value)),i}),r}const Hc=Array.prototype;function Tt(e,t,n,s,r,i){const o=br(e),l=o!==e&&!rt(e),a=o[t];if(a!==Hc[t]){const m=a.apply(e,i);return l?Pe(m):m}let d=n;o!==e&&(l?d=function(m,g){return n.call(this,Pe(m),g,e)}:n.length>2&&(d=function(m,g){return n.call(this,m,g,e)}));const u=a.call(o,d,s);return l&&r?r(u):u}function $o(e,t,n,s){const r=br(e);let i=n;return r!==e&&(rt(e)?n.length>3&&(i=function(o,l,a){return n.call(this,o,l,a,e)}):i=function(o,l,a){return n.call(this,o,Pe(l),a,e)}),r[t](i,...s)}function Ur(e,t,n){const s=oe(e);je(s,"iterate",ms);const r=s[t](...n);return(r===-1||r===!1)&&Gi(n[0])?(n[0]=oe(n[0]),s[t](...n)):r}function Qn(e,t,n=[]){Ft(),Vi();const s=oe(e)[t].apply(e,n);return qi(),jt(),s}const Bc=Fi("__proto__,__v_isRef,__isVue"),jl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ln));function Lc(e){ln(e)||(e=String(e));const t=oe(this);return je(t,"has",e),t.hasOwnProperty(e)}class Hl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?Zc:ql:i?Vl:Ll).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=W(t);if(!r){let a;if(o&&(a=jc[n]))return a;if(n==="hasOwnProperty")return Lc}const l=Reflect.get(t,n,Be(t)?t:s);if((ln(n)?jl.has(n):Bc(n))||(r||je(t,"get",n),i))return l;if(Be(l)){const a=o&&Bi(n)?l:l.value;return r&&De(a)?ri(a):a}return De(l)?r?ri(l):gs(l):l}}class Bl extends Hl{constructor(t=!1){super(!1,t)}set(t,n,s,r){let i=t[n];if(!this._isShallow){const a=tn(i);if(!rt(s)&&!tn(s)&&(i=oe(i),s=oe(s)),!W(t)&&Be(i)&&!Be(s))return a||(i.value=s),!0}const o=W(t)&&Bi(n)?Number(n)<t.length:le(t,n),l=Reflect.set(t,n,s,Be(t)?t:r);return t===oe(r)&&(o?_t(s,i)&&Ot(t,"set",n,s):Ot(t,"add",n,s)),l}deleteProperty(t,n){const s=le(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&Ot(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!ln(n)||!jl.has(n))&&je(t,"has",n),s}ownKeys(t){return je(t,"iterate",W(t)?"length":bn),Reflect.ownKeys(t)}}class Vc extends Hl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const qc=new Bl,Uc=new Vc,zc=new Bl(!0);const si=e=>e,Ps=e=>Reflect.getPrototypeOf(e);function Kc(e,t,n){return function(...s){const r=this.__v_raw,i=oe(r),o=Tn(i),l=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,d=r[e](...s),u=n?si:t?Ys:Pe;return!t&&je(i,"iterate",a?ni:bn),{next(){const{value:m,done:g}=d.next();return g?{value:m,done:g}:{value:l?[u(m[0]),u(m[1])]:u(m),done:g}},[Symbol.iterator](){return this}}}}function Ms(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Wc(e,t){const n={get(r){const i=this.__v_raw,o=oe(i),l=oe(r);e||(_t(r,l)&&je(o,"get",r),je(o,"get",l));const{has:a}=Ps(o),d=t?si:e?Ys:Pe;if(a.call(o,r))return d(i.get(r));if(a.call(o,l))return d(i.get(l));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&je(oe(r),"iterate",bn),r.size},has(r){const i=this.__v_raw,o=oe(i),l=oe(r);return e||(_t(r,l)&&je(o,"has",r),je(o,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const o=this,l=o.__v_raw,a=oe(l),d=t?si:e?Ys:Pe;return!e&&je(a,"iterate",bn),l.forEach((u,m)=>r.call(i,d(u),d(m),o))}};return Le(n,e?{add:Ms("add"),set:Ms("set"),delete:Ms("delete"),clear:Ms("clear")}:{add(r){!t&&!rt(r)&&!tn(r)&&(r=oe(r));const i=oe(this);return Ps(i).has.call(i,r)||(i.add(r),Ot(i,"add",r,r)),this},set(r,i){!t&&!rt(i)&&!tn(i)&&(i=oe(i));const o=oe(this),{has:l,get:a}=Ps(o);let d=l.call(o,r);d||(r=oe(r),d=l.call(o,r));const u=a.call(o,r);return o.set(r,i),d?_t(i,u)&&Ot(o,"set",r,i):Ot(o,"add",r,i),this},delete(r){const i=oe(this),{has:o,get:l}=Ps(i);let a=o.call(i,r);a||(r=oe(r),a=o.call(i,r)),l&&l.call(i,r);const d=i.delete(r);return a&&Ot(i,"delete",r,void 0),d},clear(){const r=oe(this),i=r.size!==0,o=r.clear();return i&&Ot(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Kc(r,e,t)}),n}function Ki(e,t){const n=Wc(e,t);return(s,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(le(n,r)&&r in s?n:s,r,i)}const Gc={get:Ki(!1,!1)},Jc={get:Ki(!1,!0)},Yc={get:Ki(!0,!1)};const Ll=new WeakMap,Vl=new WeakMap,ql=new WeakMap,Zc=new WeakMap;function Qc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xc(e){return e.__v_skip||!Object.isExtensible(e)?0:Qc(Ec(e))}function gs(e){return tn(e)?e:Wi(e,!1,qc,Gc,Ll)}function _c(e){return Wi(e,!1,zc,Jc,Vl)}function ri(e){return Wi(e,!0,Uc,Yc,ql)}function Wi(e,t,n,s,r){if(!De(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Xc(e);if(i===0)return e;const o=r.get(e);if(o)return o;const l=new Proxy(e,i===2?s:n);return r.set(e,l),l}function Rn(e){return tn(e)?Rn(e.__v_raw):!!(e&&e.__v_isReactive)}function tn(e){return!!(e&&e.__v_isReadonly)}function rt(e){return!!(e&&e.__v_isShallow)}function Gi(e){return e?!!e.__v_raw:!1}function oe(e){const t=e&&e.__v_raw;return t?oe(t):e}function eu(e){return!le(e,"__v_skip")&&Object.isExtensible(e)&&El(e,"__v_skip",!0),e}const Pe=e=>De(e)?gs(e):e,Ys=e=>De(e)?ri(e):e;function Be(e){return e?e.__v_isRef===!0:!1}function Pt(e){return Ul(e,!1)}function tu(e){return Ul(e,!0)}function Ul(e,t){return Be(e)?e:new nu(e,t)}class nu{constructor(t,n){this.dep=new zi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:oe(t),this._value=n?t:Pe(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||rt(t)||tn(t);t=s?t:oe(t),_t(t,n)&&(this._rawValue=t,this._value=s?t:Pe(t),this.dep.trigger())}}function ue(e){return Be(e)?e.value:e}function Vs(e){return K(e)?e():ue(e)}const su={get:(e,t,n)=>t==="__v_raw"?e:ue(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return Be(r)&&!Be(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function zl(e){return Rn(e)?e:new Proxy(e,su)}class ru{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new zi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ys-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ye!==this)return Nl(this,!0),!0}get value(){const t=this.dep.track();return Pl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function iu(e,t,n=!1){let s,r;return K(e)?s=e:(s=e.get,r=e.set),new ru(s,r,n)}const Fs={},Zs=new WeakMap;let mn;function ou(e,t=!1,n=mn){if(n){let s=Zs.get(n);s||Zs.set(n,s=[]),s.push(e)}}function lu(e,t,n=fe){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:l,call:a}=n,d=M=>r?M:rt(M)||r===!1||r===0?It(M,1):It(M);let u,m,g,k,I=!1,P=!1;if(Be(e)?(m=()=>e.value,I=rt(e)):Rn(e)?(m=()=>d(e),I=!0):W(e)?(P=!0,I=e.some(M=>Rn(M)||rt(M)),m=()=>e.map(M=>{if(Be(M))return M.value;if(Rn(M))return d(M);if(K(M))return a?a(M,2):M()})):K(e)?t?m=a?()=>a(e,2):e:m=()=>{if(g){Ft();try{g()}finally{jt()}}const M=mn;mn=u;try{return a?a(e,3,[k]):e(k)}finally{mn=M}}:m=$t,t&&r){const M=m,Z=r===!0?1/0:r;m=()=>It(M(),Z)}const J=Al(),j=()=>{u.stop(),J&&J.active&&Hi(J.effects,u)};if(i&&t){const M=t;t=(...Z)=>{M(...Z),j()}}let R=P?new Array(e.length).fill(Fs):Fs;const L=M=>{if(!(!(u.flags&1)||!u.dirty&&!M))if(t){const Z=u.run();if(r||I||(P?Z.some((_,ne)=>_t(_,R[ne])):_t(Z,R))){g&&g();const _=mn;mn=u;try{const ne=[Z,R===Fs?void 0:P&&R[0]===Fs?[]:R,k];R=Z,a?a(t,3,ne):t(...ne)}finally{mn=_}}}else u.run()};return l&&l(L),u=new Tl(m),u.scheduler=o?()=>o(L,!1):L,k=M=>ou(M,!1,u),g=u.onStop=()=>{const M=Zs.get(u);if(M){if(a)a(M,4);else for(const Z of M)Z();Zs.delete(u)}},t?s?L(!0):R=u.run():o?o(L.bind(null,!0),!0):u.run(),j.pause=u.pause.bind(u),j.resume=u.resume.bind(u),j.stop=j,j}function It(e,t=1/0,n){if(t<=0||!De(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Be(e))It(e.value,t,n);else if(W(e))for(let s=0;s<e.length;s++)It(e[s],t,n);else if(xl(e)||Tn(e))e.forEach(s=>{It(s,t,n)});else if(Dl(e)){for(const s in e)It(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&It(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function As(e,t,n,s){try{return s?e(...s):e()}catch(r){vr(r,t,n)}}function St(e,t,n,s){if(K(e)){const r=As(e,t,n,s);return r&&wl(r)&&r.catch(i=>{vr(i,t,n)}),r}if(W(e)){const r=[];for(let i=0;i<e.length;i++)r.push(St(e[i],t,n,s));return r}}function vr(e,t,n,s=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||fe;if(t){let l=t.parent;const a=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let m=0;m<u.length;m++)if(u[m](e,a,d)===!1)return}l=l.parent}if(i){Ft(),As(i,null,10,[e,a,d]),jt();return}}au(e,n,r,s,o)}function au(e,t,n,s=!0,r=!1){if(r)throw e;console.error(e)}const Ke=[];let wt=-1;const Nn=[];let Wt=null,$n=0;const Kl=Promise.resolve();let Qs=null;function cu(e){const t=Qs||Kl;return e?t.then(this?e.bind(this):e):t}function uu(e){let t=wt+1,n=Ke.length;for(;t<n;){const s=t+n>>>1,r=Ke[s],i=bs(r);i<e||i===e&&r.flags&2?t=s+1:n=s}return t}function Ji(e){if(!(e.flags&1)){const t=bs(e),n=Ke[Ke.length-1];!n||!(e.flags&2)&&t>=bs(n)?Ke.push(e):Ke.splice(uu(t),0,e),e.flags|=1,Wl()}}function Wl(){Qs||(Qs=Kl.then(Jl))}function fu(e){W(e)?Nn.push(...e):Wt&&e.id===-1?Wt.splice($n+1,0,e):e.flags&1||(Nn.push(e),e.flags|=1),Wl()}function So(e,t,n=wt+1){for(;n<Ke.length;n++){const s=Ke[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Ke.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Gl(e){if(Nn.length){const t=[...new Set(Nn)].sort((n,s)=>bs(n)-bs(s));if(Nn.length=0,Wt){Wt.push(...t);return}for(Wt=t,$n=0;$n<Wt.length;$n++){const n=Wt[$n];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Wt=null,$n=0}}const bs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Jl(e){try{for(wt=0;wt<Ke.length;wt++){const t=Ke[wt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),As(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;wt<Ke.length;wt++){const t=Ke[wt];t&&(t.flags&=-2)}wt=-1,Ke.length=0,Gl(),Qs=null,(Ke.length||Nn.length)&&Jl()}}let tt=null,Yl=null;function Xs(e){const t=tt;return tt=e,Yl=e&&e.type.__scopeId||null,t}function du(e,t=tt,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&Lo(-1);const i=Xs(t);let o;try{o=e(...r)}finally{Xs(i),s._d&&Lo(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function pu(e,t){if(tt===null)return e;const n=Dr(tt),s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,o,l,a=fe]=t[r];i&&(K(i)&&(i={mounted:i,updated:i}),i.deep&&It(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:a}))}return e}function dn(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const l=r[o];i&&(l.oldValue=i[o].value);let a=l.dir[s];a&&(Ft(),St(a,n,8,[e.el,l,e,t]),jt())}}const Zl=Symbol("_vte"),hu=e=>e.__isTeleport,os=e=>e&&(e.disabled||e.disabled===""),Co=e=>e&&(e.defer||e.defer===""),Ao=e=>typeof SVGElement<"u"&&e instanceof SVGElement,To=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,ii=(e,t)=>{const n=e&&e.to;return Re(n)?t?t(n):null:n},Ql={name:"Teleport",__isTeleport:!0,process(e,t,n,s,r,i,o,l,a,d){const{mc:u,pc:m,pbc:g,o:{insert:k,querySelector:I,createText:P,createComment:J}}=d,j=os(t.props);let{shapeFlag:R,children:L,dynamicChildren:M}=t;if(e==null){const Z=t.el=P(""),_=t.anchor=P("");k(Z,n,s),k(_,n,s);const ne=(ge,Oe)=>{R&16&&u(L,ge,Oe,r,i,o,l,a)},ve=()=>{const ge=t.target=ii(t.props,I),Oe=Xl(ge,t,P,k);ge&&(o!=="svg"&&Ao(ge)?o="svg":o!=="mathml"&&To(ge)&&(o="mathml"),r&&r.isCE&&(r.ce._teleportTargets||(r.ce._teleportTargets=new Set)).add(ge),j||(ne(ge,Oe),qs(t,!1)))};j&&(ne(n,_),qs(t,!0)),Co(t.props)?(t.el.__isMounted=!1,qe(()=>{ve(),delete t.el.__isMounted},i)):ve()}else{if(Co(t.props)&&e.el.__isMounted===!1){qe(()=>{Ql.process(e,t,n,s,r,i,o,l,a,d)},i);return}t.el=e.el,t.targetStart=e.targetStart;const Z=t.anchor=e.anchor,_=t.target=e.target,ne=t.targetAnchor=e.targetAnchor,ve=os(e.props),ge=ve?n:_,Oe=ve?Z:ne;if(o==="svg"||Ao(_)?o="svg":(o==="mathml"||To(_))&&(o="mathml"),M?(g(e.dynamicChildren,M,ge,r,i,o,l),Xi(e,t,!0)):a||m(e,t,ge,Oe,r,i,o,l,!1),j)ve?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):js(t,n,Z,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const dt=t.target=ii(t.props,I);dt&&js(t,dt,null,d,0)}else ve&&js(t,_,ne,d,1);qs(t,j)}},remove(e,t,n,{um:s,o:{remove:r}},i){const{shapeFlag:o,children:l,anchor:a,targetStart:d,targetAnchor:u,target:m,props:g}=e;if(m&&(r(d),r(u)),i&&r(a),o&16){const k=i||!os(g);for(let I=0;I<l.length;I++){const P=l[I];s(P,t,n,k,!!P.dynamicChildren)}}},move:js,hydrate:yu};function js(e,t,n,{o:{insert:s},m:r},i=2){i===0&&s(e.targetAnchor,t,n);const{el:o,anchor:l,shapeFlag:a,children:d,props:u}=e,m=i===2;if(m&&s(o,t,n),(!m||os(u))&&a&16)for(let g=0;g<d.length;g++)r(d[g],t,n,2);m&&s(l,t,n)}function yu(e,t,n,s,r,i,{o:{nextSibling:o,parentNode:l,querySelector:a,insert:d,createText:u}},m){function g(P,J,j,R){J.anchor=m(o(P),J,l(P),n,s,r,i),J.targetStart=j,J.targetAnchor=R}const k=t.target=ii(t.props,a),I=os(t.props);if(k){const P=k._lpa||k.firstChild;if(t.shapeFlag&16)if(I)g(e,t,P,P&&o(P));else{t.anchor=o(e);let J=P;for(;J;){if(J&&J.nodeType===8){if(J.data==="teleport start anchor")t.targetStart=J;else if(J.data==="teleport anchor"){t.targetAnchor=J,k._lpa=t.targetAnchor&&o(t.targetAnchor);break}}J=o(J)}t.targetAnchor||Xl(k,t,u,d),m(P&&o(P),t,k,n,s,r,i)}qs(t,I)}else I&&t.shapeFlag&16&&g(e,t,e,o(e));return t.anchor&&o(t.anchor)}const Xn=Ql;function qs(e,t){const n=e.ctx;if(n&&n.ut){let s,r;for(t?(s=e.el,r=e.anchor):(s=e.targetStart,r=e.targetAnchor);s&&s!==r;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function Xl(e,t,n,s){const r=t.targetStart=n(""),i=t.targetAnchor=n("");return r[Zl]=i,e&&(s(r,e),s(i,e)),i}const mu=Symbol("_leaveCb");function Yi(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Yi(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ae(e,t){return K(e)?Le({name:e.name},t,{setup:e}):e}function _l(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function On(e){const t=Da(),n=tu(null);if(t){const r=t.refs===fe?t.refs={}:t.refs;Object.defineProperty(r,e,{enumerable:!0,get:()=>n.value,set:i=>n.value=i})}return n}const _s=new WeakMap;function ls(e,t,n,s,r=!1){if(W(e)){e.forEach((I,P)=>ls(I,t&&(W(t)?t[P]:t),n,s,r));return}if(as(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ls(e,t,n,s.component.subTree);return}const i=s.shapeFlag&4?Dr(s.component):s.el,o=r?null:i,{i:l,r:a}=e,d=t&&t.r,u=l.refs===fe?l.refs={}:l.refs,m=l.setupState,g=oe(m),k=m===fe?vl:I=>le(g,I);if(d!=null&&d!==a){if(Ro(t),Re(d))u[d]=null,k(d)&&(m[d]=null);else if(Be(d)){d.value=null;const I=t;I.k&&(u[I.k]=null)}}if(K(a))As(a,l,12,[o,u]);else{const I=Re(a),P=Be(a);if(I||P){const J=()=>{if(e.f){const j=I?k(a)?m[a]:u[a]:a.value;if(r)W(j)&&Hi(j,i);else if(W(j))j.includes(i)||j.push(i);else if(I)u[a]=[i],k(a)&&(m[a]=u[a]);else{const R=[i];a.value=R,e.k&&(u[e.k]=R)}}else I?(u[a]=o,k(a)&&(m[a]=o)):P&&(a.value=o,e.k&&(u[e.k]=o))};if(o){const j=()=>{J(),_s.delete(e)};j.id=-1,_s.set(e,j),qe(j,n)}else Ro(e),J()}}}function Ro(e){const t=_s.get(e);t&&(t.flags|=8,_s.delete(e))}gr().requestIdleCallback;gr().cancelIdleCallback;const as=e=>!!e.type.__asyncLoader,ea=e=>e.type.__isKeepAlive;function gu(e,t){ta(e,"a",t)}function bu(e,t){ta(e,"da",t)}function ta(e,t,n=He){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(xr(t,s,n),n){let r=n.parent;for(;r&&r.parent;)ea(r.parent.vnode)&&vu(s,t,n,r),r=r.parent}}function vu(e,t,n,s){const r=xr(t,e,s,!0);sa(()=>{Hi(s[t],r)},n)}function xr(e,t,n=He,s=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Ft();const l=Ts(n),a=St(t,n,e,o);return l(),jt(),a});return s?r.unshift(i):r.push(i),i}}const Bt=e=>(t,n=He)=>{(!xs||e==="sp")&&xr(e,(...s)=>t(...s),n)},xu=Bt("bm"),na=Bt("m"),wu=Bt("bu"),ku=Bt("u"),Du=Bt("bum"),sa=Bt("um"),Eu=Bt("sp"),$u=Bt("rtg"),Su=Bt("rtc");function Cu(e,t=He){xr("ec",e,t)}const Au="components";function qn(e,t){return Ru(Au,e,!0,t)||e}const Tu=Symbol.for("v-ndc");function Ru(e,t,n=!0,s=!1){const r=tt||He;if(r){const i=r.type;{const l=vf(i,!1);if(l&&(l===t||l===it(t)||l===mr(it(t))))return i}const o=No(r[e]||i[e],t)||No(r.appContext[e],t);return!o&&s?i:o}}function No(e,t){return e&&(e[t]||e[it(t)]||e[mr(it(t))])}function Y(e,t,n,s){let r;const i=n,o=W(e);if(o||Re(e)){const l=o&&Rn(e);let a=!1,d=!1;l&&(a=!rt(e),d=tn(e),e=br(e)),r=new Array(e.length);for(let u=0,m=e.length;u<m;u++)r[u]=t(a?d?Ys(Pe(e[u])):Pe(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,i)}else if(De(e))if(e[Symbol.iterator])r=Array.from(e,(l,a)=>t(l,a,void 0,i));else{const l=Object.keys(e);r=new Array(l.length);for(let a=0,d=l.length;a<d;a++){const u=l[a];r[a]=t(e[u],u,a,i)}}else r=[];return r}const oi=e=>e?Ea(e)?Dr(e):oi(e.parent):null,cs=Le(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>oi(e.parent),$root:e=>oi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ia(e),$forceUpdate:e=>e.f||(e.f=()=>{Ji(e.update)}),$nextTick:e=>e.n||(e.n=cu.bind(e.proxy)),$watch:e=>Xu.bind(e)}),zr=(e,t)=>e!==fe&&!e.__isScriptSetup&&le(e,t),Nu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:l,appContext:a}=e;let d;if(t[0]!=="$"){const k=o[t];if(k!==void 0)switch(k){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return i[t]}else{if(zr(s,t))return o[t]=1,s[t];if(r!==fe&&le(r,t))return o[t]=2,r[t];if((d=e.propsOptions[0])&&le(d,t))return o[t]=3,i[t];if(n!==fe&&le(n,t))return o[t]=4,n[t];li&&(o[t]=0)}}const u=cs[t];let m,g;if(u)return t==="$attrs"&&je(e.attrs,"get",""),u(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==fe&&le(n,t))return o[t]=4,n[t];if(g=a.config.globalProperties,le(g,t))return g[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:i}=e;return zr(r,t)?(r[t]=n,!0):s!==fe&&le(s,t)?(s[t]=n,!0):le(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:i,type:o}},l){let a,d;return!!(n[l]||e!==fe&&l[0]!=="$"&&le(e,l)||zr(t,l)||(a=i[0])&&le(a,l)||le(s,l)||le(cs,l)||le(r.config.globalProperties,l)||(d=o.__cssModules)&&d[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:le(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Oo(e){return W(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let li=!0;function Ou(e){const t=ia(e),n=e.proxy,s=e.ctx;li=!1,t.beforeCreate&&Io(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:l,provide:a,inject:d,created:u,beforeMount:m,mounted:g,beforeUpdate:k,updated:I,activated:P,deactivated:J,beforeDestroy:j,beforeUnmount:R,destroyed:L,unmounted:M,render:Z,renderTracked:_,renderTriggered:ne,errorCaptured:ve,serverPrefetch:ge,expose:Oe,inheritAttrs:dt,components:pt,directives:Dn,filters:Gn}=t;if(d&&Iu(d,s,null),o)for(const Ee in o){const pe=o[Ee];K(pe)&&(s[Ee]=pe.bind(n))}if(r){const Ee=r.call(n,n);De(Ee)&&(e.data=gs(Ee))}if(li=!0,i)for(const Ee in i){const pe=i[Ee],un=K(pe)?pe.bind(n,n):K(pe.get)?pe.get.bind(n,n):$t,Os=!K(pe)&&K(pe.set)?pe.set.bind(n):$t,fn=Te({get:un,set:Os});Object.defineProperty(s,Ee,{enumerable:!0,configurable:!0,get:()=>fn.value,set:ht=>fn.value=ht})}if(l)for(const Ee in l)ra(l[Ee],s,n,Ee);if(a){const Ee=K(a)?a.call(n):a;Reflect.ownKeys(Ee).forEach(pe=>{Bu(pe,Ee[pe])})}u&&Io(u,e,"c");function Ie(Ee,pe){W(pe)?pe.forEach(un=>Ee(un.bind(n))):pe&&Ee(pe.bind(n))}if(Ie(xu,m),Ie(na,g),Ie(wu,k),Ie(ku,I),Ie(gu,P),Ie(bu,J),Ie(Cu,ve),Ie(Su,_),Ie($u,ne),Ie(Du,R),Ie(sa,M),Ie(Eu,ge),W(Oe))if(Oe.length){const Ee=e.exposed||(e.exposed={});Oe.forEach(pe=>{Object.defineProperty(Ee,pe,{get:()=>n[pe],set:un=>n[pe]=un,enumerable:!0})})}else e.exposed||(e.exposed={});Z&&e.render===$t&&(e.render=Z),dt!=null&&(e.inheritAttrs=dt),pt&&(e.components=pt),Dn&&(e.directives=Dn),ge&&_l(e)}function Iu(e,t,n=$t){W(e)&&(e=ai(e));for(const s in e){const r=e[s];let i;De(r)?"default"in r?i=Us(r.from||s,r.default,!0):i=Us(r.from||s):i=Us(r),Be(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[s]=i}}function Io(e,t,n){St(W(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function ra(e,t,n,s){let r=s.includes(".")?ga(n,s):()=>n[s];if(Re(e)){const i=t[e];K(i)&&Pn(r,i)}else if(K(e))Pn(r,e.bind(n));else if(De(e))if(W(e))e.forEach(i=>ra(i,t,n,s));else{const i=K(e.handler)?e.handler.bind(n):t[e.handler];K(i)&&Pn(r,i,e)}}function ia(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,l=i.get(t);let a;return l?a=l:!r.length&&!n&&!s?a=t:(a={},r.length&&r.forEach(d=>er(a,d,o,!0)),er(a,t,o)),De(t)&&i.set(t,a),a}function er(e,t,n,s=!1){const{mixins:r,extends:i}=t;i&&er(e,i,n,!0),r&&r.forEach(o=>er(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const l=Pu[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const Pu={data:Po,props:Mo,emits:Mo,methods:es,computed:es,beforeCreate:Ve,created:Ve,beforeMount:Ve,mounted:Ve,beforeUpdate:Ve,updated:Ve,beforeDestroy:Ve,beforeUnmount:Ve,destroyed:Ve,unmounted:Ve,activated:Ve,deactivated:Ve,errorCaptured:Ve,serverPrefetch:Ve,components:es,directives:es,watch:Fu,provide:Po,inject:Mu};function Po(e,t){return t?e?function(){return Le(K(e)?e.call(this,this):e,K(t)?t.call(this,this):t)}:t:e}function Mu(e,t){return es(ai(e),ai(t))}function ai(e){if(W(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ve(e,t){return e?[...new Set([].concat(e,t))]:t}function es(e,t){return e?Le(Object.create(null),e,t):t}function Mo(e,t){return e?W(e)&&W(t)?[...new Set([...e,...t])]:Le(Object.create(null),Oo(e),Oo(t??{})):t}function Fu(e,t){if(!e)return t;if(!t)return e;const n=Le(Object.create(null),e);for(const s in t)n[s]=Ve(e[s],t[s]);return n}function oa(){return{app:null,config:{isNativeTag:vl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ju=0;function Hu(e,t){return function(s,r=null){K(s)||(s=Le({},s)),r!=null&&!De(r)&&(r=null);const i=oa(),o=new WeakSet,l=[];let a=!1;const d=i.app={_uid:ju++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:wf,get config(){return i.config},set config(u){},use(u,...m){return o.has(u)||(u&&K(u.install)?(o.add(u),u.install(d,...m)):K(u)&&(o.add(u),u(d,...m))),d},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),d},component(u,m){return m?(i.components[u]=m,d):i.components[u]},directive(u,m){return m?(i.directives[u]=m,d):i.directives[u]},mount(u,m,g){if(!a){const k=d._ceVNode||x(s,r);return k.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),e(k,u,g),a=!0,d._container=u,u.__vue_app__=d,Dr(k.component)}},onUnmount(u){l.push(u)},unmount(){a&&(St(l,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(u,m){return i.provides[u]=m,d},runWithContext(u){const m=In;In=d;try{return u()}finally{In=m}}};return d}}let In=null;function Bu(e,t){if(He){let n=He.provides;const s=He.parent&&He.parent.provides;s===n&&(n=He.provides=Object.create(s)),n[e]=t}}function Us(e,t,n=!1){const s=Da();if(s||In){let r=In?In._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&K(t)?t.call(s&&s.proxy):t}}const la={},aa=()=>Object.create(la),ca=e=>Object.getPrototypeOf(e)===la;function Lu(e,t,n,s=!1){const r={},i=aa();e.propsDefaults=Object.create(null),ua(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=s?r:_c(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function Vu(e,t,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,l=oe(r),[a]=e.propsOptions;let d=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let m=0;m<u.length;m++){let g=u[m];if(wr(e.emitsOptions,g))continue;const k=t[g];if(a)if(le(i,g))k!==i[g]&&(i[g]=k,d=!0);else{const I=it(g);r[I]=ci(a,l,I,k,e,!1)}else k!==i[g]&&(i[g]=k,d=!0)}}}else{ua(e,t,r,i)&&(d=!0);let u;for(const m in l)(!t||!le(t,m)&&((u=wn(m))===m||!le(t,u)))&&(a?n&&(n[m]!==void 0||n[u]!==void 0)&&(r[m]=ci(a,l,m,void 0,e,!0)):delete r[m]);if(i!==l)for(const m in i)(!t||!le(t,m))&&(delete i[m],d=!0)}d&&Ot(e.attrs,"set","")}function ua(e,t,n,s){const[r,i]=e.propsOptions;let o=!1,l;if(t)for(let a in t){if(ss(a))continue;const d=t[a];let u;r&&le(r,u=it(a))?!i||!i.includes(u)?n[u]=d:(l||(l={}))[u]=d:wr(e.emitsOptions,a)||(!(a in s)||d!==s[a])&&(s[a]=d,o=!0)}if(i){const a=oe(n),d=l||fe;for(let u=0;u<i.length;u++){const m=i[u];n[m]=ci(r,a,m,d[m],e,!le(d,m))}}return o}function ci(e,t,n,s,r,i){const o=e[n];if(o!=null){const l=le(o,"default");if(l&&s===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&K(a)){const{propsDefaults:d}=r;if(n in d)s=d[n];else{const u=Ts(r);s=d[n]=a.call(null,t),u()}}else s=a;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!l?s=!1:o[1]&&(s===""||s===wn(n))&&(s=!0))}return s}const qu=new WeakMap;function fa(e,t,n=!1){const s=n?qu:t.propsCache,r=s.get(e);if(r)return r;const i=e.props,o={},l=[];let a=!1;if(!K(e)){const u=m=>{a=!0;const[g,k]=fa(m,t,!0);Le(o,g),k&&l.push(...k)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!a)return De(e)&&s.set(e,An),An;if(W(i))for(let u=0;u<i.length;u++){const m=it(i[u]);Fo(m)&&(o[m]=fe)}else if(i)for(const u in i){const m=it(u);if(Fo(m)){const g=i[u],k=o[m]=W(g)||K(g)?{type:g}:Le({},g),I=k.type;let P=!1,J=!0;if(W(I))for(let j=0;j<I.length;++j){const R=I[j],L=K(R)&&R.name;if(L==="Boolean"){P=!0;break}else L==="String"&&(J=!1)}else P=K(I)&&I.name==="Boolean";k[0]=P,k[1]=J,(P||le(k,"default"))&&l.push(m)}}const d=[o,l];return De(e)&&s.set(e,d),d}function Fo(e){return e[0]!=="$"&&!ss(e)}const Zi=e=>e==="_"||e==="_ctx"||e==="$stable",Qi=e=>W(e)?e.map(Dt):[Dt(e)],Uu=(e,t,n)=>{if(t._n)return t;const s=du((...r)=>Qi(t(...r)),n);return s._c=!1,s},da=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Zi(r))continue;const i=e[r];if(K(i))t[r]=Uu(r,i,s);else if(i!=null){const o=Qi(i);t[r]=()=>o}}},pa=(e,t)=>{const n=Qi(t);e.slots.default=()=>n},ha=(e,t,n)=>{for(const s in t)(n||!Zi(s))&&(e[s]=t[s])},zu=(e,t,n)=>{const s=e.slots=aa();if(e.vnode.shapeFlag&32){const r=t._;r?(ha(s,t,n),n&&El(s,"_",r,!0)):da(t,s)}else t&&pa(e,t)},Ku=(e,t,n)=>{const{vnode:s,slots:r}=e;let i=!0,o=fe;if(s.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:ha(r,t,n):(i=!t.$stable,da(t,r)),o=t}else t&&(pa(e,t),o={default:1});if(i)for(const l in r)!Zi(l)&&o[l]==null&&delete r[l]},qe=lf;function Wu(e){return Gu(e)}function Gu(e,t){const n=gr();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:l,createComment:a,setText:d,setElementText:u,parentNode:m,nextSibling:g,setScopeId:k=$t,insertStaticContent:I}=e,P=(h,y,v,S=null,E=null,$=null,N=void 0,T=null,A=!!y.dynamicChildren)=>{if(h===y)return;h&&!_n(h,y)&&(S=Is(h),ht(h,E,$,!0),h=null),y.patchFlag===-2&&(A=!1,y.dynamicChildren=null);const{type:C,ref:V,shapeFlag:O}=y;switch(C){case kr:J(h,y,v,S);break;case nn:j(h,y,v,S);break;case Wr:h==null&&R(y,v,S,N);break;case b:pt(h,y,v,S,E,$,N,T,A);break;default:O&1?Z(h,y,v,S,E,$,N,T,A):O&6?Dn(h,y,v,S,E,$,N,T,A):(O&64||O&128)&&C.process(h,y,v,S,E,$,N,T,A,Yn)}V!=null&&E?ls(V,h&&h.ref,$,y||h,!y):V==null&&h&&h.ref!=null&&ls(h.ref,null,$,h,!0)},J=(h,y,v,S)=>{if(h==null)s(y.el=l(y.children),v,S);else{const E=y.el=h.el;y.children!==h.children&&d(E,y.children)}},j=(h,y,v,S)=>{h==null?s(y.el=a(y.children||""),v,S):y.el=h.el},R=(h,y,v,S)=>{[h.el,h.anchor]=I(h.children,y,v,S,h.el,h.anchor)},L=({el:h,anchor:y},v,S)=>{let E;for(;h&&h!==y;)E=g(h),s(h,v,S),h=E;s(y,v,S)},M=({el:h,anchor:y})=>{let v;for(;h&&h!==y;)v=g(h),r(h),h=v;r(y)},Z=(h,y,v,S,E,$,N,T,A)=>{y.type==="svg"?N="svg":y.type==="math"&&(N="mathml"),h==null?_(y,v,S,E,$,N,T,A):ge(h,y,E,$,N,T,A)},_=(h,y,v,S,E,$,N,T)=>{let A,C;const{props:V,shapeFlag:O,transition:H,dirs:z}=h;if(A=h.el=o(h.type,$,V&&V.is,V),O&8?u(A,h.children):O&16&&ve(h.children,A,null,S,E,Kr(h,$),N,T),z&&dn(h,null,S,"created"),ne(A,h,h.scopeId,N,S),V){for(const he in V)he!=="value"&&!ss(he)&&i(A,he,null,V[he],$,S);"value"in V&&i(A,"value",null,V.value,$),(C=V.onVnodeBeforeMount)&&bt(C,S,h)}z&&dn(h,null,S,"beforeMount");const ee=Ju(E,H);ee&&H.beforeEnter(A),s(A,y,v),((C=V&&V.onVnodeMounted)||ee||z)&&qe(()=>{C&&bt(C,S,h),ee&&H.enter(A),z&&dn(h,null,S,"mounted")},E)},ne=(h,y,v,S,E)=>{if(v&&k(h,v),S)for(let $=0;$<S.length;$++)k(h,S[$]);if(E){let $=E.subTree;if(y===$||va($.type)&&($.ssContent===y||$.ssFallback===y)){const N=E.vnode;ne(h,N,N.scopeId,N.slotScopeIds,E.parent)}}},ve=(h,y,v,S,E,$,N,T,A=0)=>{for(let C=A;C<h.length;C++){const V=h[C]=T?Gt(h[C]):Dt(h[C]);P(null,V,y,v,S,E,$,N,T)}},ge=(h,y,v,S,E,$,N)=>{const T=y.el=h.el;let{patchFlag:A,dynamicChildren:C,dirs:V}=y;A|=h.patchFlag&16;const O=h.props||fe,H=y.props||fe;let z;if(v&&pn(v,!1),(z=H.onVnodeBeforeUpdate)&&bt(z,v,y,h),V&&dn(y,h,v,"beforeUpdate"),v&&pn(v,!0),(O.innerHTML&&H.innerHTML==null||O.textContent&&H.textContent==null)&&u(T,""),C?Oe(h.dynamicChildren,C,T,v,S,Kr(y,E),$):N||pe(h,y,T,null,v,S,Kr(y,E),$,!1),A>0){if(A&16)dt(T,O,H,v,E);else if(A&2&&O.class!==H.class&&i(T,"class",null,H.class,E),A&4&&i(T,"style",O.style,H.style,E),A&8){const ee=y.dynamicProps;for(let he=0;he<ee.length;he++){const ce=ee[he],Je=O[ce],Ye=H[ce];(Ye!==Je||ce==="value")&&i(T,ce,Je,Ye,E,v)}}A&1&&h.children!==y.children&&u(T,y.children)}else!N&&C==null&&dt(T,O,H,v,E);((z=H.onVnodeUpdated)||V)&&qe(()=>{z&&bt(z,v,y,h),V&&dn(y,h,v,"updated")},S)},Oe=(h,y,v,S,E,$,N)=>{for(let T=0;T<y.length;T++){const A=h[T],C=y[T],V=A.el&&(A.type===b||!_n(A,C)||A.shapeFlag&198)?m(A.el):v;P(A,C,V,null,S,E,$,N,!0)}},dt=(h,y,v,S,E)=>{if(y!==v){if(y!==fe)for(const $ in y)!ss($)&&!($ in v)&&i(h,$,y[$],null,E,S);for(const $ in v){if(ss($))continue;const N=v[$],T=y[$];N!==T&&$!=="value"&&i(h,$,T,N,E,S)}"value"in v&&i(h,"value",y.value,v.value,E)}},pt=(h,y,v,S,E,$,N,T,A)=>{const C=y.el=h?h.el:l(""),V=y.anchor=h?h.anchor:l("");let{patchFlag:O,dynamicChildren:H,slotScopeIds:z}=y;z&&(T=T?T.concat(z):z),h==null?(s(C,v,S),s(V,v,S),ve(y.children||[],v,V,E,$,N,T,A)):O>0&&O&64&&H&&h.dynamicChildren?(Oe(h.dynamicChildren,H,v,E,$,N,T),(y.key!=null||E&&y===E.subTree)&&Xi(h,y,!0)):pe(h,y,v,V,E,$,N,T,A)},Dn=(h,y,v,S,E,$,N,T,A)=>{y.slotScopeIds=T,h==null?y.shapeFlag&512?E.ctx.activate(y,v,S,N,A):Gn(y,v,S,E,$,N,A):Ns(h,y,A)},Gn=(h,y,v,S,E,$,N)=>{const T=h.component=hf(h,S,E);if(ea(h)&&(T.ctx.renderer=Yn),yf(T,!1,N),T.asyncDep){if(E&&E.registerDep(T,Ie,N),!h.el){const A=T.subTree=x(nn);j(null,A,y,v),h.placeholder=A.el}}else Ie(T,h,y,v,E,$,N)},Ns=(h,y,v)=>{const S=y.component=h.component;if(rf(h,y,v))if(S.asyncDep&&!S.asyncResolved){Ee(S,y,v);return}else S.next=y,S.update();else y.el=h.el,S.vnode=y},Ie=(h,y,v,S,E,$,N)=>{const T=()=>{if(h.isMounted){let{next:O,bu:H,u:z,parent:ee,vnode:he}=h;{const mt=ya(h);if(mt){O&&(O.el=he.el,Ee(h,O,N)),mt.asyncDep.then(()=>{h.isUnmounted||T()});return}}let ce=O,Je;pn(h,!1),O?(O.el=he.el,Ee(h,O,N)):O=he,H&&Ls(H),(Je=O.props&&O.props.onVnodeBeforeUpdate)&&bt(Je,ee,O,he),pn(h,!0);const Ye=Ho(h),yt=h.subTree;h.subTree=Ye,P(yt,Ye,m(yt.el),Is(yt),h,E,$),O.el=Ye.el,ce===null&&of(h,Ye.el),z&&qe(z,E),(Je=O.props&&O.props.onVnodeUpdated)&&qe(()=>bt(Je,ee,O,he),E)}else{let O;const{el:H,props:z}=y,{bm:ee,m:he,parent:ce,root:Je,type:Ye}=h,yt=as(y);pn(h,!1),ee&&Ls(ee),!yt&&(O=z&&z.onVnodeBeforeMount)&&bt(O,ce,y),pn(h,!0);{Je.ce&&Je.ce._def.shadowRoot!==!1&&Je.ce._injectChildStyle(Ye);const mt=h.subTree=Ho(h);P(null,mt,v,S,h,E,$),y.el=mt.el}if(he&&qe(he,E),!yt&&(O=z&&z.onVnodeMounted)){const mt=y;qe(()=>bt(O,ce,mt),E)}(y.shapeFlag&256||ce&&as(ce.vnode)&&ce.vnode.shapeFlag&256)&&h.a&&qe(h.a,E),h.isMounted=!0,y=v=S=null}};h.scope.on();const A=h.effect=new Tl(T);h.scope.off();const C=h.update=A.run.bind(A),V=h.job=A.runIfDirty.bind(A);V.i=h,V.id=h.uid,A.scheduler=()=>Ji(V),pn(h,!0),C()},Ee=(h,y,v)=>{y.component=h;const S=h.vnode.props;h.vnode=y,h.next=null,Vu(h,y.props,S,v),Ku(h,y.children,v),Ft(),So(h),jt()},pe=(h,y,v,S,E,$,N,T,A=!1)=>{const C=h&&h.children,V=h?h.shapeFlag:0,O=y.children,{patchFlag:H,shapeFlag:z}=y;if(H>0){if(H&128){Os(C,O,v,S,E,$,N,T,A);return}else if(H&256){un(C,O,v,S,E,$,N,T,A);return}}z&8?(V&16&&Jn(C,E,$),O!==C&&u(v,O)):V&16?z&16?Os(C,O,v,S,E,$,N,T,A):Jn(C,E,$,!0):(V&8&&u(v,""),z&16&&ve(O,v,S,E,$,N,T,A))},un=(h,y,v,S,E,$,N,T,A)=>{h=h||An,y=y||An;const C=h.length,V=y.length,O=Math.min(C,V);let H;for(H=0;H<O;H++){const z=y[H]=A?Gt(y[H]):Dt(y[H]);P(h[H],z,v,null,E,$,N,T,A)}C>V?Jn(h,E,$,!0,!1,O):ve(y,v,S,E,$,N,T,A,O)},Os=(h,y,v,S,E,$,N,T,A)=>{let C=0;const V=y.length;let O=h.length-1,H=V-1;for(;C<=O&&C<=H;){const z=h[C],ee=y[C]=A?Gt(y[C]):Dt(y[C]);if(_n(z,ee))P(z,ee,v,null,E,$,N,T,A);else break;C++}for(;C<=O&&C<=H;){const z=h[O],ee=y[H]=A?Gt(y[H]):Dt(y[H]);if(_n(z,ee))P(z,ee,v,null,E,$,N,T,A);else break;O--,H--}if(C>O){if(C<=H){const z=H+1,ee=z<V?y[z].el:S;for(;C<=H;)P(null,y[C]=A?Gt(y[C]):Dt(y[C]),v,ee,E,$,N,T,A),C++}}else if(C>H)for(;C<=O;)ht(h[C],E,$,!0),C++;else{const z=C,ee=C,he=new Map;for(C=ee;C<=H;C++){const _e=y[C]=A?Gt(y[C]):Dt(y[C]);_e.key!=null&&he.set(_e.key,C)}let ce,Je=0;const Ye=H-ee+1;let yt=!1,mt=0;const Zn=new Array(Ye);for(C=0;C<Ye;C++)Zn[C]=0;for(C=z;C<=O;C++){const _e=h[C];if(Je>=Ye){ht(_e,E,$,!0);continue}let gt;if(_e.key!=null)gt=he.get(_e.key);else for(ce=ee;ce<=H;ce++)if(Zn[ce-ee]===0&&_n(_e,y[ce])){gt=ce;break}gt===void 0?ht(_e,E,$,!0):(Zn[gt-ee]=C+1,gt>=mt?mt=gt:yt=!0,P(_e,y[gt],v,null,E,$,N,T,A),Je++)}const xo=yt?Yu(Zn):An;for(ce=xo.length-1,C=Ye-1;C>=0;C--){const _e=ee+C,gt=y[_e],wo=y[_e+1],ko=_e+1<V?wo.el||wo.placeholder:S;Zn[C]===0?P(null,gt,v,ko,E,$,N,T,A):yt&&(ce<0||C!==xo[ce]?fn(gt,v,ko,2):ce--)}}},fn=(h,y,v,S,E=null)=>{const{el:$,type:N,transition:T,children:A,shapeFlag:C}=h;if(C&6){fn(h.component.subTree,y,v,S);return}if(C&128){h.suspense.move(y,v,S);return}if(C&64){N.move(h,y,v,Yn);return}if(N===b){s($,y,v);for(let O=0;O<A.length;O++)fn(A[O],y,v,S);s(h.anchor,y,v);return}if(N===Wr){L(h,y,v);return}if(S!==2&&C&1&&T)if(S===0)T.beforeEnter($),s($,y,v),qe(()=>T.enter($),E);else{const{leave:O,delayLeave:H,afterLeave:z}=T,ee=()=>{h.ctx.isUnmounted?r($):s($,y,v)},he=()=>{$._isLeaving&&$[mu](!0),O($,()=>{ee(),z&&z()})};H?H($,ee,he):he()}else s($,y,v)},ht=(h,y,v,S=!1,E=!1)=>{const{type:$,props:N,ref:T,children:A,dynamicChildren:C,shapeFlag:V,patchFlag:O,dirs:H,cacheIndex:z}=h;if(O===-2&&(E=!1),T!=null&&(Ft(),ls(T,null,v,h,!0),jt()),z!=null&&(y.renderCache[z]=void 0),V&256){y.ctx.deactivate(h);return}const ee=V&1&&H,he=!as(h);let ce;if(he&&(ce=N&&N.onVnodeBeforeUnmount)&&bt(ce,y,h),V&6)kc(h.component,v,S);else{if(V&128){h.suspense.unmount(v,S);return}ee&&dn(h,null,y,"beforeUnmount"),V&64?h.type.remove(h,y,v,Yn,S):C&&!C.hasOnce&&($!==b||O>0&&O&64)?Jn(C,y,v,!1,!0):($===b&&O&384||!E&&V&16)&&Jn(A,y,v),S&&bo(h)}(he&&(ce=N&&N.onVnodeUnmounted)||ee)&&qe(()=>{ce&&bt(ce,y,h),ee&&dn(h,null,y,"unmounted")},v)},bo=h=>{const{type:y,el:v,anchor:S,transition:E}=h;if(y===b){wc(v,S);return}if(y===Wr){M(h);return}const $=()=>{r(v),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(h.shapeFlag&1&&E&&!E.persisted){const{leave:N,delayLeave:T}=E,A=()=>N(v,$);T?T(h.el,$,A):A()}else $()},wc=(h,y)=>{let v;for(;h!==y;)v=g(h),r(h),h=v;r(y)},kc=(h,y,v)=>{const{bum:S,scope:E,job:$,subTree:N,um:T,m:A,a:C}=h;jo(A),jo(C),S&&Ls(S),E.stop(),$&&($.flags|=8,ht(N,h,y,v)),T&&qe(T,y),qe(()=>{h.isUnmounted=!0},y)},Jn=(h,y,v,S=!1,E=!1,$=0)=>{for(let N=$;N<h.length;N++)ht(h[N],y,v,S,E)},Is=h=>{if(h.shapeFlag&6)return Is(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const y=g(h.anchor||h.el),v=y&&y[Zl];return v?g(v):y};let Hr=!1;const vo=(h,y,v)=>{h==null?y._vnode&&ht(y._vnode,null,null,!0):P(y._vnode||null,h,y,null,null,null,v),y._vnode=h,Hr||(Hr=!0,So(),Gl(),Hr=!1)},Yn={p:P,um:ht,m:fn,r:bo,mt:Gn,mc:ve,pc:pe,pbc:Oe,n:Is,o:e};return{render:vo,hydrate:void 0,createApp:Hu(vo)}}function Kr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function pn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ju(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Xi(e,t,n=!1){const s=e.children,r=t.children;if(W(s)&&W(r))for(let i=0;i<s.length;i++){const o=s[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=Gt(r[i]),l.el=o.el),!n&&l.patchFlag!==-2&&Xi(o,l)),l.type===kr&&l.patchFlag!==-1&&(l.el=o.el),l.type===nn&&!l.el&&(l.el=o.el)}}function Yu(e){const t=e.slice(),n=[0];let s,r,i,o,l;const a=e.length;for(s=0;s<a;s++){const d=e[s];if(d!==0){if(r=n[n.length-1],e[r]<d){t[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,e[n[l]]<d?i=l+1:o=l;d<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function ya(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ya(t)}function jo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Zu=Symbol.for("v-scx"),Qu=()=>Us(Zu);function Pn(e,t,n){return ma(e,t,n)}function ma(e,t,n=fe){const{immediate:s,deep:r,flush:i,once:o}=n,l=Le({},n),a=t&&s||!t&&i!=="post";let d;if(xs){if(i==="sync"){const k=Qu();d=k.__watcherHandles||(k.__watcherHandles=[])}else if(!a){const k=()=>{};return k.stop=$t,k.resume=$t,k.pause=$t,k}}const u=He;l.call=(k,I,P)=>St(k,u,I,P);let m=!1;i==="post"?l.scheduler=k=>{qe(k,u&&u.suspense)}:i!=="sync"&&(m=!0,l.scheduler=(k,I)=>{I?k():Ji(k)}),l.augmentJob=k=>{t&&(k.flags|=4),m&&(k.flags|=2,u&&(k.id=u.uid,k.i=u))};const g=lu(e,t,l);return xs&&(d?d.push(g):a&&g()),g}function Xu(e,t,n){const s=this.proxy,r=Re(e)?e.includes(".")?ga(s,e):()=>s[e]:e.bind(s,s);let i;K(t)?i=t:(i=t.handler,n=t);const o=Ts(this),l=ma(r,i.bind(s),n);return o(),l}function ga(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const _u=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${it(t)}Modifiers`]||e[`${wn(t)}Modifiers`];function ef(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||fe;let r=n;const i=t.startsWith("update:"),o=i&&_u(s,t.slice(7));o&&(o.trim&&(r=n.map(u=>Re(u)?u.trim():u)),o.number&&(r=n.map(_r)));let l,a=s[l=Br(t)]||s[l=Br(it(t))];!a&&i&&(a=s[l=Br(wn(t))]),a&&St(a,e,6,r);const d=s[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,St(d,e,6,r)}}const tf=new WeakMap;function ba(e,t,n=!1){const s=n?tf:t.emitsCache,r=s.get(e);if(r!==void 0)return r;const i=e.emits;let o={},l=!1;if(!K(e)){const a=d=>{const u=ba(d,t,!0);u&&(l=!0,Le(o,u))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!i&&!l?(De(e)&&s.set(e,null),null):(W(i)?i.forEach(a=>o[a]=null):Le(o,i),De(e)&&s.set(e,o),o)}function wr(e,t){return!e||!pr(t)?!1:(t=t.slice(2).replace(/Once$/,""),le(e,t[0].toLowerCase()+t.slice(1))||le(e,wn(t))||le(e,t))}function Ho(e){const{type:t,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:l,emit:a,render:d,renderCache:u,props:m,data:g,setupState:k,ctx:I,inheritAttrs:P}=e,J=Xs(e);let j,R;try{if(n.shapeFlag&4){const M=r||s,Z=M;j=Dt(d.call(Z,M,u,m,k,g,I)),R=l}else{const M=t;j=Dt(M.length>1?M(m,{attrs:l,slots:o,emit:a}):M(m,null)),R=t.props?l:nf(l)}}catch(M){us.length=0,vr(M,e,1),j=x(nn)}let L=j;if(R&&P!==!1){const M=Object.keys(R),{shapeFlag:Z}=L;M.length&&Z&7&&(i&&M.some(ji)&&(R=sf(R,i)),L=Fn(L,R,!1,!0))}return n.dirs&&(L=Fn(L,null,!1,!0),L.dirs=L.dirs?L.dirs.concat(n.dirs):n.dirs),n.transition&&Yi(L,n.transition),j=L,Xs(J),j}const nf=e=>{let t;for(const n in e)(n==="class"||n==="style"||pr(n))&&((t||(t={}))[n]=e[n]);return t},sf=(e,t)=>{const n={};for(const s in e)(!ji(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function rf(e,t,n){const{props:s,children:r,component:i}=e,{props:o,children:l,patchFlag:a}=t,d=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?Bo(s,o,d):!!o;if(a&8){const u=t.dynamicProps;for(let m=0;m<u.length;m++){const g=u[m];if(o[g]!==s[g]&&!wr(d,g))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Bo(s,o,d):!0:!!o;return!1}function Bo(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i]&&!wr(n,i))return!0}return!1}function of({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const va=e=>e.__isSuspense;function lf(e,t){t&&t.pendingBranch?W(e)?t.effects.push(...e):t.effects.push(e):fu(e)}const b=Symbol.for("v-fgt"),kr=Symbol.for("v-txt"),nn=Symbol.for("v-cmt"),Wr=Symbol.for("v-stc"),us=[];let nt=null;function f(e=!1){us.push(nt=e?null:[])}function af(){us.pop(),nt=us[us.length-1]||null}let vs=1;function Lo(e,t=!1){vs+=e,e<0&&nt&&t&&(nt.hasOnce=!0)}function xa(e){return e.dynamicChildren=vs>0?nt||An:null,af(),vs>0&&nt&&nt.push(e),e}function p(e,t,n,s,r,i){return xa(w(e,t,n,s,r,i,!0))}function xe(e,t,n,s,r){return xa(x(e,t,n,s,r,!0))}function wa(e){return e?e.__v_isVNode===!0:!1}function _n(e,t){return e.type===t.type&&e.key===t.key}const ka=({key:e})=>e??null,zs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Re(e)||Be(e)||K(e)?{i:tt,r:e,k:t,f:!!n}:e:null);function w(e,t=null,n=null,s=0,r=null,i=e===b?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ka(t),ref:t&&zs(t),scopeId:Yl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:tt};return l?(_i(a,n),i&128&&e.normalize(a)):n&&(a.shapeFlag|=Re(n)?8:16),vs>0&&!o&&nt&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&nt.push(a),a}const x=cf;function cf(e,t=null,n=null,s=0,r=null,i=!1){if((!e||e===Tu)&&(e=nn),wa(e)){const l=Fn(e,t,!0);return n&&_i(l,n),vs>0&&!i&&nt&&(l.shapeFlag&6?nt[nt.indexOf(e)]=l:nt.push(l)),l.patchFlag=-2,l}if(xf(e)&&(e=e.__vccOpts),t){t=uf(t);let{class:l,style:a}=t;l&&!Re(l)&&(t.class=Mt(l)),De(a)&&(Gi(a)&&!W(a)&&(a=Le({},a)),t.style=Li(a))}const o=Re(e)?1:va(e)?128:hu(e)?64:De(e)?4:K(e)?2:0;return w(e,t,n,s,r,o,i,!0)}function uf(e){return e?Gi(e)||ca(e)?Le({},e):e:null}function Fn(e,t,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:l,transition:a}=e,d=t?ff(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&ka(d),ref:t&&t.ref?n&&i?W(i)?i.concat(zs(t)):[i,zs(t)]:zs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==b?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Fn(e.ssContent),ssFallback:e.ssFallback&&Fn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&s&&Yi(u,a.clone(u)),u}function D(e=" ",t=0){return x(kr,null,e,t)}function U(e="",t=!1){return t?(f(),xe(nn,null,e)):x(nn,null,e)}function Dt(e){return e==null||typeof e=="boolean"?x(nn):W(e)?x(b,null,e.slice()):wa(e)?Gt(e):x(kr,null,String(e))}function Gt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Fn(e)}function _i(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(W(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),_i(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!ca(t)?t._ctx=tt:r===3&&tt&&(tt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else K(t)?(t={default:t,_ctx:tt},n=32):(t=String(t),s&64?(n=16,t=[D(t)]):n=8);e.children=t,e.shapeFlag|=n}function ff(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Mt([t.class,s.class]));else if(r==="style")t.style=Li([t.style,s.style]);else if(pr(r)){const i=t[r],o=s[r];o&&i!==o&&!(W(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=s[r])}return t}function bt(e,t,n,s=null){St(e,t,7,[n,s])}const df=oa();let pf=0;function hf(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||df,i={uid:pf++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ic(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fa(s,r),emitsOptions:ba(s,r),emit:null,emitted:null,propsDefaults:fe,inheritAttrs:s.inheritAttrs,ctx:fe,data:fe,props:fe,attrs:fe,slots:fe,refs:fe,setupState:fe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=ef.bind(null,i),e.ce&&e.ce(i),i}let He=null;const Da=()=>He||tt;let tr,ui;{const e=gr(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};tr=t("__VUE_INSTANCE_SETTERS__",n=>He=n),ui=t("__VUE_SSR_SETTERS__",n=>xs=n)}const Ts=e=>{const t=He;return tr(e),e.scope.on(),()=>{e.scope.off(),tr(t)}},Vo=()=>{He&&He.scope.off(),tr(null)};function Ea(e){return e.vnode.shapeFlag&4}let xs=!1;function yf(e,t=!1,n=!1){t&&ui(t);const{props:s,children:r}=e.vnode,i=Ea(e);Lu(e,s,i,t),zu(e,r,n||t);const o=i?mf(e,t):void 0;return t&&ui(!1),o}function mf(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Nu);const{setup:s}=n;if(s){Ft();const r=e.setupContext=s.length>1?bf(e):null,i=Ts(e),o=As(s,e,0,[e.props,r]),l=wl(o);if(jt(),i(),(l||e.sp)&&!as(e)&&_l(e),l){if(o.then(Vo,Vo),t)return o.then(a=>{qo(e,a)}).catch(a=>{vr(a,e,0)});e.asyncDep=o}else qo(e,o)}else $a(e)}function qo(e,t,n){K(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:De(t)&&(e.setupState=zl(t)),$a(e)}function $a(e,t,n){const s=e.type;e.render||(e.render=s.render||$t);{const r=Ts(e);Ft();try{Ou(e)}finally{jt(),r()}}}const gf={get(e,t){return je(e,"get",""),e[t]}};function bf(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,gf),slots:e.slots,emit:e.emit,expose:t}}function Dr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(zl(eu(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in cs)return cs[n](e)},has(t,n){return n in t||n in cs}})):e.proxy}function vf(e,t=!0){return K(e)?e.displayName||e.name:e.name||t&&e.__name}function xf(e){return K(e)&&"__vccOpts"in e}const Te=(e,t)=>iu(e,t,xs),wf="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fi;const Uo=typeof window<"u"&&window.trustedTypes;if(Uo)try{fi=Uo.createPolicy("vue",{createHTML:e=>e})}catch{}const Sa=fi?e=>fi.createHTML(e):e=>e,kf="http://www.w3.org/2000/svg",Df="http://www.w3.org/1998/Math/MathML",Nt=typeof document<"u"?document:null,zo=Nt&&Nt.createElement("template"),Ef={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?Nt.createElementNS(kf,e):t==="mathml"?Nt.createElementNS(Df,e):n?Nt.createElement(e,{is:n}):Nt.createElement(e);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Nt.createTextNode(e),createComment:e=>Nt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Nt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,i){const o=n?n.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{zo.innerHTML=Sa(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=zo.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},$f=Symbol("_vtc");function Sf(e,t,n){const s=e[$f];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ko=Symbol("_vod"),Cf=Symbol("_vsh"),Af=Symbol(""),Tf=/(?:^|;)\s*display\s*:/;function Rf(e,t,n){const s=e.style,r=Re(n);let i=!1;if(n&&!r){if(t)if(Re(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Ks(s,l,"")}else for(const o in t)n[o]==null&&Ks(s,o,"");for(const o in n)o==="display"&&(i=!0),Ks(s,o,n[o])}else if(r){if(t!==n){const o=s[Af];o&&(n+=";"+o),s.cssText=n,i=Tf.test(n)}}else t&&e.removeAttribute("style");Ko in e&&(e[Ko]=i?s.display:"",e[Cf]&&(s.display="none"))}const Wo=/\s*!important$/;function Ks(e,t,n){if(W(n))n.forEach(s=>Ks(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Nf(e,t);Wo.test(n)?e.setProperty(wn(s),n.replace(Wo,""),"important"):e[s]=n}}const Go=["Webkit","Moz","ms"],Gr={};function Nf(e,t){const n=Gr[t];if(n)return n;let s=it(t);if(s!=="filter"&&s in e)return Gr[t]=s;s=mr(s);for(let r=0;r<Go.length;r++){const i=Go[r]+s;if(i in e)return Gr[t]=i}return t}const Jo="http://www.w3.org/1999/xlink";function Yo(e,t,n,s,r,i=Oc(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Jo,t.slice(6,t.length)):e.setAttributeNS(Jo,t,n):n==null||i&&!$l(n)?e.removeAttribute(t):e.setAttribute(t,i?"":ln(n)?String(n):n)}function Zo(e,t,n,s,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Sa(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=$l(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function Sn(e,t,n,s){e.addEventListener(t,n,s)}function Of(e,t,n,s){e.removeEventListener(t,n,s)}const Qo=Symbol("_vei");function If(e,t,n,s,r=null){const i=e[Qo]||(e[Qo]={}),o=i[t];if(s&&o)o.value=s;else{const[l,a]=Pf(t);if(s){const d=i[t]=jf(s,r);Sn(e,l,d,a)}else o&&(Of(e,l,o,a),i[t]=void 0)}}const Xo=/(?:Once|Passive|Capture)$/;function Pf(e){let t;if(Xo.test(e)){t={};let s;for(;s=e.match(Xo);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):wn(e.slice(2)),t]}let Jr=0;const Mf=Promise.resolve(),Ff=()=>Jr||(Mf.then(()=>Jr=0),Jr=Date.now());function jf(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;St(Hf(s,n.value),t,5,[s])};return n.value=e,n.attached=Ff(),n}function Hf(e,t){if(W(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const _o=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Bf=(e,t,n,s,r,i)=>{const o=r==="svg";t==="class"?Sf(e,s,o):t==="style"?Rf(e,n,s):pr(t)?ji(t)||If(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Lf(e,t,s,o))?(Zo(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Yo(e,t,s,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Re(s))?Zo(e,it(t),s,i,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Yo(e,t,s,o))};function Lf(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&_o(t)&&K(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return _o(t)&&Re(n)?!1:t in e}const el=e=>{const t=e.props["onUpdate:modelValue"]||!1;return W(t)?n=>Ls(t,n):t};function Vf(e){e.target.composing=!0}function tl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Yr=Symbol("_assign"),qf={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Yr]=el(r);const i=s||r.props&&r.props.type==="number";Sn(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=_r(l)),e[Yr](l)}),n&&Sn(e,"change",()=>{e.value=e.value.trim()}),t||(Sn(e,"compositionstart",Vf),Sn(e,"compositionend",tl),Sn(e,"change",tl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(e[Yr]=el(o),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?_r(e.value):e.value,a=t??"";l!==a&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||r&&e.value.trim()===a)||(e.value=a))}},Uf=Le({patchProp:Bf},Ef);let nl;function zf(){return nl||(nl=Wu(Uf))}const Kf=((...e)=>{const t=zf().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=Gf(s);if(!r)return;const i=t._component;!K(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,Wf(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t});function Wf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Gf(e){return Re(e)?document.querySelector(e):e}const Ht=Symbol.for("@ts-pattern/matcher"),Jf=Symbol.for("@ts-pattern/isVariadic"),nr="@ts-pattern/anonymous-select-key",di=e=>!!(e&&typeof e=="object"),Ws=e=>e&&!!e[Ht],Et=(e,t,n)=>{if(Ws(e)){const s=e[Ht](),{matched:r,selections:i}=s.match(t);return r&&i&&Object.keys(i).forEach(o=>n(o,i[o])),r}if(di(e)){if(!di(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let s=[],r=[],i=[];for(const o of e.keys()){const l=e[o];Ws(l)&&l[Jf]?i.push(l):i.length?r.push(l):s.push(l)}if(i.length){if(i.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<s.length+r.length)return!1;const o=t.slice(0,s.length),l=r.length===0?[]:t.slice(-r.length),a=t.slice(s.length,r.length===0?1/0:-r.length);return s.every((d,u)=>Et(d,o[u],n))&&r.every((d,u)=>Et(d,l[u],n))&&(i.length===0||Et(i[0],a,n))}return e.length===t.length&&e.every((o,l)=>Et(o,t[l],n))}return Reflect.ownKeys(e).every(s=>{const r=e[s];return(s in t||Ws(i=r)&&i[Ht]().matcherType==="optional")&&Et(r,t[s],n);var i})}return Object.is(t,e)},sn=e=>{var t,n,s;return di(e)?Ws(e)?(t=(n=(s=e[Ht]()).getSelectionKeys)==null?void 0:n.call(s))!=null?t:[]:Array.isArray(e)?ws(e,sn):ws(Object.values(e),sn):[]},ws=(e,t)=>e.reduce((n,s)=>n.concat(t(s)),[]);function ot(e){return Object.assign(e,{optional:()=>Yf(e),and:t=>we(e,t),or:t=>Zf(e,t),select:t=>t===void 0?sl(e):sl(t,e)})}function Yf(e){return ot({[Ht]:()=>({match:t=>{let n={};const s=(r,i)=>{n[r]=i};return t===void 0?(sn(e).forEach(r=>s(r,void 0)),{matched:!0,selections:n}):{matched:Et(e,t,s),selections:n}},getSelectionKeys:()=>sn(e),matcherType:"optional"})})}function we(...e){return ot({[Ht]:()=>({match:t=>{let n={};const s=(r,i)=>{n[r]=i};return{matched:e.every(r=>Et(r,t,s)),selections:n}},getSelectionKeys:()=>ws(e,sn),matcherType:"and"})})}function Zf(...e){return ot({[Ht]:()=>({match:t=>{let n={};const s=(r,i)=>{n[r]=i};return ws(e,sn).forEach(r=>s(r,void 0)),{matched:e.some(r=>Et(r,t,s)),selections:n}},getSelectionKeys:()=>ws(e,sn),matcherType:"or"})})}function se(e){return{[Ht]:()=>({match:t=>({matched:!!e(t)})})}}function sl(...e){const t=typeof e[0]=="string"?e[0]:void 0,n=e.length===2?e[1]:typeof e[0]=="string"?void 0:e[0];return ot({[Ht]:()=>({match:s=>{let r={[t??nr]:s};return{matched:n===void 0||Et(n,s,(i,o)=>{r[i]=o}),selections:r}},getSelectionKeys:()=>[t??nr].concat(n===void 0?[]:sn(n))})})}function vt(e){return typeof e=="number"}function qt(e){return typeof e=="string"}function Ut(e){return typeof e=="bigint"}ot(se(function(e){return!0}));const zt=e=>Object.assign(ot(e),{startsWith:t=>{return zt(we(e,(n=t,se(s=>qt(s)&&s.startsWith(n)))));var n},endsWith:t=>{return zt(we(e,(n=t,se(s=>qt(s)&&s.endsWith(n)))));var n},minLength:t=>zt(we(e,(n=>se(s=>qt(s)&&s.length>=n))(t))),length:t=>zt(we(e,(n=>se(s=>qt(s)&&s.length===n))(t))),maxLength:t=>zt(we(e,(n=>se(s=>qt(s)&&s.length<=n))(t))),includes:t=>{return zt(we(e,(n=t,se(s=>qt(s)&&s.includes(n)))));var n},regex:t=>{return zt(we(e,(n=t,se(s=>qt(s)&&!!s.match(n)))));var n}});zt(se(qt));const xt=e=>Object.assign(ot(e),{between:(t,n)=>xt(we(e,((s,r)=>se(i=>vt(i)&&s<=i&&r>=i))(t,n))),lt:t=>xt(we(e,(n=>se(s=>vt(s)&&s<n))(t))),gt:t=>xt(we(e,(n=>se(s=>vt(s)&&s>n))(t))),lte:t=>xt(we(e,(n=>se(s=>vt(s)&&s<=n))(t))),gte:t=>xt(we(e,(n=>se(s=>vt(s)&&s>=n))(t))),int:()=>xt(we(e,se(t=>vt(t)&&Number.isInteger(t)))),finite:()=>xt(we(e,se(t=>vt(t)&&Number.isFinite(t)))),positive:()=>xt(we(e,se(t=>vt(t)&&t>0))),negative:()=>xt(we(e,se(t=>vt(t)&&t<0)))});xt(se(vt));const Kt=e=>Object.assign(ot(e),{between:(t,n)=>Kt(we(e,((s,r)=>se(i=>Ut(i)&&s<=i&&r>=i))(t,n))),lt:t=>Kt(we(e,(n=>se(s=>Ut(s)&&s<n))(t))),gt:t=>Kt(we(e,(n=>se(s=>Ut(s)&&s>n))(t))),lte:t=>Kt(we(e,(n=>se(s=>Ut(s)&&s<=n))(t))),gte:t=>Kt(we(e,(n=>se(s=>Ut(s)&&s>=n))(t))),positive:()=>Kt(we(e,se(t=>Ut(t)&&t>0))),negative:()=>Kt(we(e,se(t=>Ut(t)&&t<0)))});Kt(se(Ut));ot(se(function(e){return typeof e=="boolean"}));ot(se(function(e){return typeof e=="symbol"}));ot(se(function(e){return e==null}));ot(se(function(e){return e!=null}));class Qf extends Error{constructor(t){let n;try{n=JSON.stringify(t)}catch{n=t}super(`Pattern matching error: no pattern matches value ${n}`),this.input=void 0,this.input=t}}const pi={matched:!1,value:void 0};function de(e){return new sr(e,pi)}class sr{constructor(t,n){this.input=void 0,this.state=void 0,this.input=t,this.state=n}with(...t){if(this.state.matched)return this;const n=t[t.length-1],s=[t[0]];let r;t.length===3&&typeof t[1]=="function"?r=t[1]:t.length>2&&s.push(...t.slice(1,t.length-1));let i=!1,o={};const l=(d,u)=>{i=!0,o[d]=u},a=!s.some(d=>Et(d,this.input,l))||r&&!r(this.input)?pi:{matched:!0,value:n(i?nr in o?o[nr]:o:this.input,this.input)};return new sr(this.input,a)}when(t,n){if(this.state.matched)return this;const s=!!t(this.input);return new sr(this.input,s?{matched:!0,value:n(this.input,this.input)}:pi)}otherwise(t){return this.state.matched?this.state.value:t(this.input)}exhaustive(t=Xf){return this.state.matched?this.state.value:t(this.input)}run(){return this.exhaustive()}returnType(){return this}narrow(){return this}}function Xf(e){throw new Qf(e)}function _f(e,t,n){let s=r=>e(r,...t);return n===void 0?s:Object.assign(s,{lazy:n,lazyArgs:t})}function Ge(e,t,n){let s=e.length-t.length;if(s===0)return e(...t);if(s===1)return _f(e,t,n);throw Error("Wrong number of arguments")}function ed(...e){return Ge(td,e)}const td=e=>`${e[0]?.toUpperCase()??""}${e.slice(1)}`;function nd(...e){return Ge(sd,e)}const sd=(e,t)=>[...e,...t],Ca={done:!1,hasNext:!1};function q(e,...t){let n=e,s=t.map(i=>"lazy"in i?rd(i):void 0),r=0;for(;r<t.length;){if(s[r]===void 0||!id(n)){let a=t[r];n=a(n),r+=1;continue}let i=[];for(let a=r;a<t.length;a++){let d=s[a];if(d===void 0||(i.push(d),d.isSingle))break}let o=[];for(let a of n)if(Aa(a,o,i))break;let{isSingle:l}=i.at(-1);n=l?o[0]:o,r+=i.length}return n}function Aa(e,t,n){if(n.length===0)return t.push(e),!1;let s=e,r=Ca,i=!1;for(let[o,l]of n.entries()){let{index:a,items:d}=l;if(d.push(s),r=l(s,a,d),l.index+=1,r.hasNext){if(r.hasMany??!1){for(let u of r.next)if(Aa(u,t,n.slice(o+1)))return!0;return i}s=r.next}if(!r.hasNext)break;r.done&&(i=!0)}return r.hasNext&&t.push(s),i}function rd(e){let{lazy:t,lazyArgs:n}=e,s=t(...n);return Object.assign(s,{isSingle:t.single??!1,index:0,items:[]})}function id(e){return typeof e=="string"||typeof e=="object"&&!!e&&Symbol.iterator in e}function od(e,t){let n=t.length-e.length;if(n===1){let[s,...r]=t;return q(s,{lazy:e,lazyArgs:r})}if(n===0){let s={lazy:e,lazyArgs:t};return Object.assign(r=>q(r,s),s)}throw Error("Wrong number of arguments")}function rl(...e){return Ge(ld,e)}const ld=(e,t)=>e.length>=t;function Er(...e){return Ge(Object.entries,e)}function Hs(...e){return Ge(ad,e,cd)}const ad=(e,t)=>e.flatMap(t),cd=e=>(t,n,s)=>{let r=e(t,n,s);return Array.isArray(r)?{done:!1,hasNext:!0,hasMany:!0,next:r}:{done:!1,hasNext:!0,next:r}};function fs(...e){return Ge(Object.fromEntries,e)}function $r(...e){return Ge(ud,e)}function ud(e,t){let n=Object.create(null);for(let s of e){let r=s?.[t];if(r!==void 0){let i=n[r];i===void 0?n[r]=[s]:i.push(s)}}return Object.setPrototypeOf(n,Object.prototype),n}function hi(...e){return Ge(Object.keys,e)}function ke(...e){return Ge(fd,e,dd)}const fd=(e,t)=>e.map(t),dd=e=>(t,n,s)=>({done:!1,hasNext:!0,next:e(t,n,s)});function ft(...e){return Ge(pd,e)}function pd(e,t){let n={};for(let[s,r]of Object.entries(e))n[s]=t(r,s,e);return n}function xn(e){let t={};for(let n of e)t={...t,...n};return t}function hd(...e){return Ge(yd,e)}function yd(e,t){if(!rl(t,1))return{...e};if(!rl(t,2)){let{[t[0]]:s,...r}=e;return r}let n={...e};for(let s of t)delete n[s];return n}function Ta(...e){return Ge(md,e)}function md(e,t){let n={};for(let s of t)s in e&&(n[s]=e[s]);return n}function Ra(e,...t){return typeof e=="string"||typeof e=="number"||typeof e=="symbol"?n=>il(n,e,...t):il(e,...t)}function il(e,...t){let n=e;for(let s of t){if(n==null)return;n=n[s]}return n}function eo(...e){return Ge(gd,e)}function gd(e,t){let n=[];for(let s=e;s<t;s++)n.push(s);return n}function Na(...e){return od(bd,e)}function bd(){let e=new Set;return t=>e.has(t)?Ca:(e.add(t),{done:!1,hasNext:!0,next:t})}function Ne(...e){return Ge(Object.values,e)}function ol(...e){return Ge(vd,e,xd)}const vd=(e,t)=>e.length<t.length?e.map((n,s)=>[n,t[s]]):t.map((n,s)=>[e[s],n]),xd=e=>(t,n)=>({hasNext:!0,next:[t,e[n]],done:n>=e.length-1});class wd{val;constructor(t){this.val=t}isOk=!0;isErr=!1;isOkAnd(t){return t(this.val)}isErrAnd(){return!1}unwrap(){return this.val}unwrapBy(){return this.val}expect(){return this.val}unwrapOr(){return this.val}match(t,n){return t(this.val)}union(){return this.val}map(t){return me.ok(t(this.val))}mapErr(){return this}bind(t){return t(this.val)}bindErr(){return this}tap(t){return t(this.val),this}tapErr(){return this}}class kd{err;constructor(t){this.err=t}isOk=!1;isErr=!0;isOkAnd(){return!1}isErrAnd(t){return t(this.err)}unwrap(){throw this.err}unwrapBy(t){t(this.err)}expect(t){throw new Error(t)}unwrapOr(t){return t}match(t,n){return n(this.err)}union(){return this.err}map(){return this}mapErr(t){return me.err(t(this.err))}bind(){return this}bindErr(t){return t(this.err)}tap(){return this}tapErr(t){return t(this.err),this}}const Q=e=>new wd(e),ae=e=>new kd(e);(function(e){e.ok=Q,e.err=ae,e.all=t=>{const n=[];for(const s of t){if(s.isErr)return s;n.push(s.val)}return e.ok(n)},e.any=t=>{const n=[];for(const s of t){if(s.isOk)return s;n.push(s.err)}return e.err(n)},e.wrap=t=>{try{return e.ok(t())}catch(n){return e.err(n)}},e.fold=(t,n,s)=>t.reduce((r,i,o)=>r.bind(l=>s(l,i,o)),e.ok(n)),e.isOk=t=>t.isOk,e.isErr=t=>t.isErr,e.isOkAnd=t=>n=>n.isOkAnd(t),e.isErrAnd=t=>n=>n.isErrAnd(t),e.unwrap=t=>t.unwrap(),e.unwrapBy=t=>n=>n.unwrapBy(t),e.expect=t=>n=>n.expect(t),e.unwrapOr=t=>n=>n.unwrapOr(t),e.map=t=>n=>n.map(t),e.mapErr=t=>n=>n.mapErr(t),e.bind=t=>n=>n.bind(t),e.bindErr=t=>n=>n.bindErr(t),e.match=(t,n)=>s=>s.match(t,n),e.union=t=>t.union(),e.tap=t=>n=>n.tap(t),e.tapErr=t=>n=>n.tapErr(t)})(me||(me={}));var me;const Dd=Symbol("ParseErr"),Un=(e,t)=>({type:e,[Dd]:!0,...t}),to=(e,t)=>({...e,index:e.index+t,rest:e.rest.slice(t)}),zn=e=>t=>{const[n]=t.rest;return n&&e(n)?Q({val:n,state:to(t,1)}):ae(null)},Ed=zn(()=>!0),$d=e=>zn(t=>e.test(t)),Ct=e=>zn(t=>t===e),Sr=e=>zn(t=>e.includes(t)),Sd=e=>zn(t=>!e.includes(t)),ll=e=>t=>t.rest.startsWith(e)?Q({val:e,state:to(t,e.length)}):ae(null),al=e=>t=>{const n=t.rest.match(e);if(n&&n.index===0){const[s]=n;return Q({val:s,state:to(t,s.length)})}return ae(null)},jn=e=>t=>Q({val:e,state:t}),no=e=>()=>ae(e),Oa=e=>t=>e.map(n=>({val:n,state:t})),Cd=(e,t)=>an(e,n=>Oa(t(n)?Q(n):ae(null))),We=(e,t)=>n=>e(n).map(({val:s,state:r})=>({val:t(s),state:r})),Ad=(e,t)=>n=>e(n).mapErr(t),Td=(e,t)=>n=>e(n).map(({val:s,state:r})=>({val:s,state:t(r)})),Ia=e=>We(e,t=>t.join("")),ts=(e,t)=>We(At([e,ks(We(At([t,e]),([,n])=>n))]),([n,s])=>[n,...s]),cl=(e,t)=>rr([ts(e,t),jn([])]),ul=(e,t)=>We(At([e,Cr(We(At([t,e]),([,n])=>n))]),([n,s])=>[n,...s]),rr=e=>t=>{for(const n of e){const s=n(t);if(s.isOk)return s}return ae(null)},an=(e,t)=>n=>e(n).bind(({val:s,state:r})=>t(s)(r)),Pa=(e,t)=>n=>e(n).bindErr(s=>t(s)(n)),Rd=(e,t)=>n=>e(n).bind(({val:s,state:r})=>t({val:s,state:r})(r)),Nd=(e,t,n)=>s=>e(s).match(({val:r,state:i})=>t(r)(i),r=>n(r)(s)),ir=e=>t=>e(t).bindErr(()=>Q({val:null,state:t})),Cr=e=>an(e,t=>We(ks(e),n=>[t,...n])),ks=e=>Pa(Cr(e),()=>jn([])),At=e=>t=>{const n=[];for(const s of e){const r=s(t);if(!r.isOk)return r;{const{val:i,state:o}=r.val;n.push(i),t=o}}return Q({val:n,state:t})},fl=e=>We(e,()=>null),Od=e=>t=>an(t,n=>We(e,()=>n)),Id=e=>t=>an(e,()=>t),Ma=e=>We(e,([t])=>t),Pd=e=>t=>e()(t),yi=e=>e.rest?ae(Un("ExpectEnd",{rest:e.rest})):Q({val:null,state:e}),Md=e=>Ma(At([e,yi])),Fd=` 	\r
`,mi=Sr(Fd),Kn=(e,t)=>n=>We(At([e,n,t]),([,s])=>s),jd=Kn(ks(mi),ks(mi)),Hd=Kn(Ct("("),Ct(")")),Bd=Kn(Ct("["),Ct("]")),Ld=Kn(Ct("{"),Ct("}")),Vd=Kn(Ct("<"),Ct(">")),qd="0123456789",Fa=Sr(qd),or=Ia(Cr(Fa)),so=We(or,Number),ro=e=>We(At([ir(Sr("+-")),e]),([t,n])=>t==="-"?-n:n),Ud=ro(so),zd=ro(rr([We(At([ir(or),Ct("."),or]),([e,,t])=>+`${e??0}.${t}`),so])),Kd=(e,t)=>an(e,n=>We(t,()=>n)),Wd=(e,t)=>an(e,n=>Nd(t,()=>no(null),()=>jn(n))),Gd=e=>an(e,t=>t?jn(t):no(null));(function(e){e.startOf=t=>({start:t.start,end:t.start}),e.endOf=t=>({start:t.end,end:t.end}),e.outer=(t,n)=>({start:t.start,end:n.end}),e.inner=(t,n)=>({start:t.end,end:n.start}),e.empty=()=>({start:1,end:0})})(gi||(gi={}));const Jd=e=>t=>e(t).map(({val:n,state:s})=>({val:{val:n,range:{start:t.index,end:s.index}},state:s})),c={satisfiy:zn,anyChar:Ed,char:Ct,charMatch:$d,oneOf:Sr,noneOf:Sd,string:ll,str:ll,stringMatch:al,regex:al,pure:jn,return:jn,fail:no,result:Oa,guard:Cd,map:We,mapErr:Ad,mapState:Td,join:Ia,separatedBy:ts,sep:ts,separatedBy0:cl,sep0:cl,separatedBy1:ts,sep1:ts,separatedBy2:ul,sep2:ul,alternative:rr,alt:rr,bind:an,bindErr:Pa,bindValState:Rd,optional:ir,opt:ir,some:Cr,many:ks,sequence:At,seq:At,skip:fl,ignore:fl,left:Od,right:Id,head:Ma,lazy:Pd,endOfInput:yi,eoi:yi,ended:Md,white:mi,delimitedBy:Kn,spaced:jd,parens:Hd,brackets:Bd,braces:Ld,angles:Vd,digit:Fa,digits:or,posint:so,integer:Ud,signed:ro,decimal:zd,followedBy:Kd,notFollowedBy:Wd,notEmpty:Gd,ranged:Jd};var gi;const Yd=["let","in","case","of","data","class","instance","where","infix","infixl","infixr","import"],Zd=["?",":","::","=","->","|,"],ja="+-*/^%<>=!~&|.$#?:",Ha=e=>[...e].every(t=>ja.includes(t)),Ba=e=>Ha(e)||[...e].every(t=>t===","),Ar=e=>e>="A"&&e<="Z",La=e=>e>="a"&&e<="z";(function(e){e.of=(t,n)=>({prec:t,assoc:n}),e.def=()=>e.of(9,"left"),e.show=({assoc:t,prec:n})=>`infix${t==="none"?"":t[0]} ${n}`})(be||(be={}));const Qd={".":be.of(9,"right"),"^":be.of(8,"right"),"*":be.of(7,"left"),"/":be.of(7,"left"),"%":be.of(7,"left"),"+":be.of(6,"left"),"-":be.of(6,"left"),"++":be.of(5,"right"),"#":be.of(5,"right"),"==":be.of(4,"none"),"!=":be.of(4,"none"),"<":be.of(4,"none"),"<=":be.of(4,"none"),">":be.of(4,"none"),">=":be.of(4,"none"),"&&":be.of(3,"right"),"||":be.of(2,"right"),"|>":be.of(1,"left"),$:be.of(0,"right")},rn=(e,t)=>{const n=[...e].map(s=>{if(s===t||s==="\\")return"\\"+s;if(s===`
`)return"\\n";if(s==="\r")return"\\r";if(s==="	")return"\\t";const r=s.codePointAt(0);return r<32||r>126?`\\u${r.toString(16).padStart(4,"0")}`:s}).join("");return t+n+t};var be;const Va=e=>[e.slice(0,-1),e[e.length-1]],qa=e=>e,Xd=e=>e,Tr=(e,t,n)=>{const s=r=>i=>{const o=t(i,s(i));return n(i,r)?`(${o})`:o};return r=>s(null)(e(r))},Zr=e=>{const t={};for(const[n,s]of e){if(n in t)return ae(n);t[n]=s}return Q(t)},_d=e=>t=>t in e,dl=e=>t=>{const n=" ".repeat(e);return t.split(`
`).map(s=>n+s).join(`
`)};let te=class Rt extends globalThis.Set{static empty=()=>new Rt;static of=t=>new Rt(t);static solo=t=>new Rt([t]);static strictOf=t=>{const n=Rt.empty();for(const s of t){if(n.has(s))return me.err(s);n.add(s)}return me.ok(n)};static union=t=>t.reduce((n,s)=>n.union(s),Rt.empty());static intersection=t=>t.reduce((n,s)=>n.intersection(s));static difference=t=>n=>n.difference(t);static disjointUnion=t=>{const n=Rt.empty();for(const s of t)for(const r of s){if(n.has(r))return ae(r);n.add(r)}return Q(n)};static toArray=t=>Array.from(t);static map=(t,n)=>{const s=Rt.empty();for(const r of t)s.add(n(r));return s};static filter=t=>n=>{const s=Rt.empty();for(const r of n)t(r)&&s.add(r);return s}},Ds=class Gs extends globalThis.Map{static empty=()=>new Gs;static of=t=>new Gs(t);static strictOf=t=>{const n=Gs.empty();for(const[s,r]of t){if(n.has(s))return me.err(s);n.set(s,r)}return me.ok(n)}};class Mn extends globalThis.Map{create;constructor(t,n){super(n),this.create=t}static empty=t=>new Mn(t);static of=(t,n)=>new Mn(t,n);static count=t=>{const n=Mn.empty(()=>0);for(const s of t)n.set(s,n.get(s)+1);return n};get(t){if(this.has(t))return super.get(t);const n=this.create();return this.set(t,n),n}update(t,n){const s=n(this.get(t));return this.set(t,s),s}}const ep=e=>{const t={hash:e,of:n=>{const s=Ds.of(Es.from(n).map(i=>[e(i),i])),r={get size(){return s.size},has(i){return s.has(e(i))},add(i){return s.set(e(i),i),r},delete(i){return s.delete(e(i)),r},toArray(){return Array.from(s.values())},keys(){return s.values()},[Symbol.iterator](){return r.keys()},clone(){return t.of(r)},union(i){const o=r.clone();for(const l of i)o.add(l);return o},intersection(i){const o=t.empty();for(const l of r)i.has(l)&&o.add(l);return o},difference(i){const o=t.empty();for(const l of r)i.has(l)||o.add(l);return o}};return r},empty:()=>t.of([]),solo:n=>t.of([n]),union:n=>n.reduce((s,r)=>s.union(r),t.empty()),intersection:n=>n.reduce((s,r)=>s.intersection(r)),difference:n=>s=>s.difference(n)};return t};(function(e){e.from=t=>globalThis.Iterator.from(t),e.map=t=>n=>n.map(t)})(Es||(Es={}));(function(e){e.empty=()=>({}),e.of=t=>Object.fromEntries(t),e.strictOf=t=>{const n={};for(const[s,r]of t){if(s in n)return me.err(s);n[s]=r}return me.ok(n)}})(on||(on={}));var Es,on;(function(e){e.solveSCCs=t=>{const n=Mn.empty(te.empty);for(const[u,m]of t)for(const g of m)n.get(g).add(u);const s=te.empty(),r=Ds.empty(),i=[];let o=0;const l=Array.of(),a=u=>{s.add(u);for(const m of t.get(u))s.has(m)||a(m);i.push(u)},d=(u,m)=>{m.add(u),r.set(u,o);for(const g of n.get(u))r.has(g)||d(g,m)};for(const u of t.keys())s.has(u)||a(u);for(;i.length>0;){const u=i.pop();if(!r.has(u)){o++;const m=te.empty();d(u,m),l.push({color:o,nodes:m})}}return{colorMap:r,comps:l}},e.condense=(t,n,s)=>{const r=Ds.of(s.map(({color:i})=>[i,te.empty()]));for(const[i,o]of t){const l=n.get(i);for(const a of o){const d=n.get(a);l!==d&&r.get(l).add(d)}}return r},e.topoSort=t=>{const n=Array.of(),s=Mn.empty(()=>0);for(const[i,o]of t){const l=o.size;s.set(i,l),l===0&&n.push(i)}const r=Array.of();for(;n.length>0;){const i=n.pop();r.push(i);for(const[o,l]of t)l.has(i)&&s.update(o,d=>d-1)===0&&n.push(o)}return r}})(bi||(bi={}));var bi;(function(e){e.compare=([t,n],s)=>t.sub===s&&n.sub===s?{type:"both",pair:[t,n]}:t.sub===s?{type:"one",pair:[t,n]}:n.sub===s?{type:"one",pair:[n,t]}:{type:"none",pair:[t,n]},e.diff=([t,n])=>t.sub===n.sub?{type:"same",sub:t.sub,pair:[t,n]}:{type:"diff"}})(Hn||(Hn={}));var Hn;(function(e){e.actual=(t,n)=>({...t,source:{type:"actual",expr:n}}),e.actualFunc=(t,n)=>({...t,source:{type:"actual.Func",funcNode:n}}),e.actualPattern=(t,n)=>({...t,source:{type:"actual.Pattern",pattern:n}}),e.inferFuncRet=(t,n)=>({...t,source:{type:"infer.Func.ret",funcNode:n}}),e.inferBindingVar=(t,n,s)=>({...t,source:{type:"infer.Binding.var",varId:n,bindingNode:s}}),e.inferBindingVal=(t,n,s)=>({...t,source:{type:"infer.Binding.val",valExpr:n,bindingNode:s}}),e.inferCase=(t,n)=>({...t,source:{type:"infer.Case",caseExpr:n}}),e.inferLambdaParam=(t,n)=>({...t,source:{type:"infer.Lambda.param",lambdaExpr:n}}),e.expectCond=(t,n)=>({...t,source:{type:"expect.Cond",condExpr:n}}),e.constr=(t,n)=>({...t,source:{type:"constr",constr:n}}),e.instance=(t,n)=>({...t,source:{type:"instance",instance:n}}),e.annAnn=(t,n)=>({...t,source:{type:"ann.Ann",annExpr:n}}),e.annDecl=(t,n,s)=>({...t,source:{type:"ann.Decl",declNode:n,varId:s}}),e.elimFuncParam=t=>({...t.param,source:{type:"elim.Func.param",from:t}}),e.elimFuncRet=t=>({...t.ret,source:{type:"elim.Func.ret",from:t}}),e.elimApplyFunc=t=>({...t.func,source:{type:"elim.Apply.func",from:t}}),e.elimApplyArg=t=>({...t.arg,source:{type:"elim.Apply.arg",from:t}}),e.mapType=t=>n=>({...t(n),source:n.source})})(ie||(ie={}));(function(e){e.wrapErr=t=>({type:"UnifyErr",err:t})})(kt||(kt={}));const ns=(e,t)=>de(t).with({sub:"con"},()=>!1).with({sub:"func"},({param:n,ret:s})=>ns(e,n)||ns(e,s)).with({sub:"var"},({id:n})=>n===e).with({sub:"apply"},({func:n,arg:s})=>ns(e,n)||ns(e,s)).exhaustive(),Ze=(e,t)=>{const n=[e,t];return de(Hn.compare(n,"var")).with({type:"both"},({pair:[s,r]})=>s.id===r.id?Q({}):s.rigid&&r.rigid?ae({type:"RigidVar",lhs:s,rhs:r,var:s.customId}):Q(s.rigid?{[r.id]:s}:{[s.id]:r})).with({type:"one"},({pair:[s,r]})=>ns(s.id,r)?ae({type:"Recursion",lhs:s,rhs:r}):s.rigid?ae({type:"RigidVar",lhs:s,rhs:r,var:s.customId}):Q({[s.id]:r})).with({type:"none"},({pair:s})=>de(Hn.diff(s)).with({type:"diff"},()=>ae({type:"DiffShape",lhs:e,rhs:t})).with({sub:"con"},({pair:[r,i]})=>r.id===i.id?Q({}):ae({type:"DiffCon",lhs:r,rhs:i})).with({sub:"func"},({pair:[r,i]})=>Ze(ie.elimFuncParam(r),ie.elimFuncParam(i)).bind(o=>Ze(G.applySourced(o)(ie.elimFuncRet(r)),G.applySourced(o)(ie.elimFuncRet(i))).map(l=>G.compose([l,o])))).with({sub:"apply"},({pair:[r,i]})=>Ze(ie.elimApplyFunc(r),ie.elimApplyFunc(i)).bind(o=>Ze(G.applySourced(o)(ie.elimApplyArg(r)),G.applySourced(o)(ie.elimApplyArg(i))).map(l=>G.compose([l,o])))).exhaustive()).exhaustive()};class Ua{prefix;constructor(t){this.prefix=t}counter=0;nextId(){return`${this.prefix}${this.counter++}`}}class tp extends Ua{fresh(){return ze(this.nextId())}freshRigid(t){return io(this.nextId(),t)}instantiate(t,n=!1){const s=q(t.boundVarSet,Array.from,ke(({id:r,rigid:i})=>[r,n&&i?this.freshRigid(r):this.fresh()]),on.of);return{type:G.apply(s)(t.type),constrs:t.constrs.map(G.applyConstr(s))}}}const Qt=e=>de(e).with({sub:"var"},Xt.solo).with({sub:"con"},Xt.empty).with({sub:"func"},({param:t,ret:n})=>Xt.union([Qt(t),Qt(n)])).with({sub:"apply"},({func:t,arg:n})=>Xt.union([Qt(t),Qt(n)])).exhaustive(),np=e=>Qt(e).size===0,sp=e=>Qt(e.type).difference(e.boundVarSet),rp=e=>te.union(e.bindings.map(t=>st(t.rhs))),st=e=>de(e).with({type:"ann"},({expr:t})=>st(t)).with({type:"apply"},({func:t,arg:n})=>te.union([st(t),st(n)])).with({type:"caseRes"},({subject:t,branches:n})=>te.union([st(t),...n.map(({body:s})=>st(s))])).with({type:"cond"},({cond:t,yes:n,no:s})=>te.union([st(t),st(n),st(s)])).with({type:"lambdaRes"},({body:t,idSet:n})=>st(t).difference(n)).with({type:"letDes"},({bindingHost:t,body:n})=>te.union([st(n),rp(t)]).difference(t.idSet)).with({type:"var"},({id:t})=>te.of([t])).otherwise(()=>te.empty()),Rr=(e,t=[],n=te.empty())=>{const s=Qt(e).difference(n);return{boundVarSet:s,constrs:t.filter(r=>r.arg.sub==="var"&&s.has(r.arg)),type:e}};(function(e){e.empty=()=>({subst:G.empty(),constrs:[]}),e.concatConstrs=t=>n=>({subst:n.subst,constrs:n.constrs.concat(t)}),e.compose2=(t,n)=>({subst:G.compose2(t.subst,n.subst),constrs:n.constrs.map(G.applyConstr(t.subst)).concat(t.constrs)}),e.compose=t=>t.reduceRight((n,s)=>e.compose2(s,n),e.empty())})(Ue||(Ue={}));(function(e){e.empty=()=>({...Ue.empty(),env:vn.empty()}),e.ofEnv=t=>({...Ue.empty(),env:t})})(pl||(pl={}));(function(e){e.pure=t=>({type:t,subst:G.empty(),constrs:[]}),e.mapType=t=>n=>({...n,type:t(n)})})(Cn||(Cn={}));(function(e){e.wrapErr=t=>t.type==="UnifyErr"?t:{type:"PatternErr",err:t}})(ds||(ds={}));(function(e){e.wrapErr=t=>({type:"ConstrsSolveErr",err:t})})(wi||(wi={}));const ip=(e,t)=>{const n=te.of(hi(t)),s=Ds.empty(),r=Ds.empty();for(const o of e){const{binding:l}=o;for(const a of l.idSet)s.set(a,o),r.set(a,st(l.rhs).intersection(n))}const{comps:i}=bi.solveSCCs(r);return i.reverse().map(({color:o,nodes:l})=>{const a=[...l],d=q(a,ke(u=>s.get(u)),Na());return{id:o,typedBindings:d,idSet:a}})};class op{instanceDict;tvs=new tp("t");constructor(t={}){this.instanceDict=t}inferPattern(t,n){return de(t).with({sub:"wildcard"},()=>Q({subst:{},env:{},type:this.tvs.fresh()})).with({sub:"num"},{sub:"unit"},s=>{const r=B(de(s.sub).with("num",()=>"Num").with("unit",()=>"").exhaustive());return Q({env:{},type:r})}).with({sub:"var"},({var:{id:s}})=>{const r=this.tvs.fresh();return Q({env:{[s]:Ln.pure(r)},type:r})}).with({sub:"con"},({con:s,args:r})=>{const{type:i}=this.tvs.instantiate(n[s.id]),o=ie.actual(i,s),l=ie.inferFuncRet(this.tvs.fresh(),t);return me.fold(r,{envH:vn.empty(),argTypes:Array.of()},({envH:a,argTypes:d},u)=>this.inferPattern(u,{...n,...a}).map(({env:m,type:g})=>({envH:{...a,...m},argTypes:[...d,g]}))).bind(({envH:a,argTypes:d})=>{const u=Qe(...d,l);return Ze(o,ie.actualFunc(u,t)).mapErr(kt.wrapErr).map(m=>({env:G.applySchemeDict(m)(a),type:G.applySourced(m)(l)}))})}).exhaustive().map(({type:s,env:r})=>({env:r,type:ie.actualPattern(s,t)}))}inferBindingHost(t,n){return me.fold(t.bindings,{envH:vn.empty(),typedBindings:Array.of()},({envH:s,typedBindings:r},i)=>this.inferPattern(i.lhs,{...n,...s}).mapErr(ds.wrapErr).map(({env:o,type:l})=>({envH:{...s,...o},typedBindings:r.concat({binding:i,type:l})}))).bind(({envH:s,typedBindings:r})=>{const i=t.bindingGroups=ip(r,s);return me.fold(i,{stateC:Ue.empty(),envC:{...n,...s}},({stateC:o,envC:l},a)=>this.inferBindingGroup(a,t.declDict,l).map(({state:d,env:u})=>({stateC:Ue.compose2(d,o),envC:{...l,...u}}))).map(({stateC:o,envC:l})=>({state:o,env:l}))})}solveConstrs(t){return console.log("Solving constrs:",t.constrs.map(ki.show)),me.fold(t.constrs,{subst:t.subst,constrs:[]},(n,s)=>{const r=this.instanceDict[s.classId]??[],i=ie.constr(Xe.rigidify(s.arg),s),o=r.map(a=>{const d=ie.instance(a.arg,a);return{instance:a,unify:Ze(i,d)}}).filter(({unify:a})=>a.isOk);if(o.length===0)return np(i)?ae({type:"NoInstance",constr:s}):Q(Ue.concatConstrs([s])(n));if(o.length>1)return ae({type:"AmbiguousInstance",constr:s,instances:o.map(Ra("instance"))});const[{unify:l}]=o;return Q({subst:G.compose2(l.unwrap(),n.subst),constrs:n.constrs})})}inferBindingGroup({typedBindings:t,idSet:n},s,r){return me.fold(t,{env:r,state:Ue.empty()},({env:i,state:o},{binding:l,type:a})=>this.infer(l.rhs,i).bind(({type:d,...u})=>Ze(d,G.applySourced(u.subst)(a)).bind(m=>{const g=G.applyInferState(m)(u);return me.fold([...l.idSet].filter(_d(s)),{state:Ue.compose2(g,o),env:G.applySchemeDict(g.subst)(i)},({state:k,env:I},P)=>{const J=ie.inferBindingVar(I[P].type,P,l),{type:j,constrs:R}=this.tvs.instantiate(s[P].ann.typeScheme,!0),L=ie.annDecl(j,s[P],P);return Ze(J,L).map(M=>({state:G.applyInferState(M)(Ue.concatConstrs(R)(k)),env:G.applySchemeDict(M)(I)}))})}).mapErr(kt.wrapErr).bind(({state:m,env:g})=>this.solveConstrs(m).mapErr(wi.wrapErr).map(k=>{const I=q(g,hd(n),Ne(),ke(sp),Xt.union),P=q(g,Ta([...l.idSet]),ft(({type:J})=>Rr(J,k.constrs,I)));return{state:k,env:{...g,...P}}}))))}infer(t,n=vn.empty()){return de(t).with({type:"num"},()=>Q(Cn.pure(ie.actual(B("Num"),t)))).with({type:"unit"},()=>Q(Cn.pure(ie.actual(B(""),t)))).with({type:"var"},({id:s})=>{if(!(s in n))return ae({type:"UndefinedVar",id:s});const{type:r,constrs:i}=this.tvs.instantiate(n[s]);return Q({type:ie.actual(r,t),subst:{},constrs:i})}).with({type:"char"},()=>Q(Cn.pure(ie.actual(B("Char"),t)))).with({type:"str"},()=>Q(Cn.pure(ie.actual(Lt(B("[]"),B("Char")),t)))).with({type:"lambdaRes"},({param:s,body:r})=>this.inferPattern(s,n).mapErr(ds.wrapErr).bind(({env:i,type:o})=>this.infer(r,{...n,...i}).map(({type:l,subst:a,constrs:d})=>({type:ie.actual(Bn(G.apply(a)(o),l),t),subst:a,constrs:d})))).with({type:"apply"},({func:s,arg:r})=>this.infer(s,n).bind(({type:i,...o})=>this.infer(r,G.applySchemeDict(o.subst)(n)).bind(({type:l,...a})=>{const d=G.applySourced(a.subst)(i),u=ie.inferFuncRet(this.tvs.fresh(),s),m=ie.actualFunc(Bn(l,u),t),g=Ue.compose2(a,o);return Ze(d,m).mapErr(kt.wrapErr).map(k=>G.applyInfer(k)({...g,type:u}))}))).with({type:"letDes"},({bindingHost:s,body:r})=>this.inferBindingHost(s,n).bind(({env:i,state:o})=>this.infer(r,{...n,...i}).map(({type:l,...a})=>({type:l,...Ue.compose2(a,o)})))).with({type:"caseRes"},({subject:s,branches:r})=>this.infer(s,n).bind(({type:i,...o})=>{const l=G.applySchemeDict(o.subst)(n),a=Xd(ie.inferCase(this.tvs.fresh(),t));return me.fold(r,{type:a,...o},({type:d,...u},m)=>this.inferPattern(m.pattern,l).mapErr(ds.wrapErr).bind(({env:g,type:k})=>Ze(G.applySourced(u.subst)(i),k).mapErr(kt.wrapErr).bind(I=>{const P=G.applyInferState(I)(u);return this.infer(m.body,G.applySchemeDict(P.subst)({...l,...g})).bind(({type:J,...j})=>{const R=Ue.compose2(j,P);return Ze(G.applySourced(R.subst)(d),J).mapErr(kt.wrapErr).map(L=>G.applyInfer(L)({type:d,...R}))})})))})).with({type:"cond"},({cond:s,yes:r,no:i})=>this.infer(s,n).bind(({type:o,...l})=>Ze(o,ie.expectCond(B("Bool"),t)).mapErr(kt.wrapErr).bind(a=>{const d=G.applyInferState(a)(l),u=G.applySchemeDict(d.subst)(n);return this.infer(r,u).bind(({type:m,...g})=>this.infer(i,G.applySchemeDict(g.subst)(u)).bind(({type:k,...I})=>Ze(m,k).mapErr(kt.wrapErr).map(P=>G.applyInfer(P)({type:k,...Ue.compose([I,g,d])}))))}))).with({type:"ann"},({expr:s,ann:r})=>this.infer(s,n).bind(({type:i,...o})=>{const{type:l,constrs:a}=this.tvs.instantiate(r.typeScheme,!0),d=ie.annAnn(l,s);return Ze(i,d).mapErr(kt.wrapErr).map(u=>G.applyInfer(u)({type:d,...Ue.concatConstrs(a)(o)}))})).exhaustive()}}(function(e){e.wrapErr=t=>({type:"UnifyKindErr",err:t})})(gn||(gn={}));const vi=(e,t)=>de(t).with({sub:"type"},{sub:"constraint"},()=>!1).with({sub:"var"},({id:n})=>n===e).with({sub:"func"},({param:n,ret:s})=>vi(e,n)||vi(e,s)).exhaustive(),Jt=(e,t)=>{const n=[e,t];return de(Hn.compare(n,"var")).with({type:"both"},({pair:[s,r]})=>s.id===r.id?Q({}):Q({[r.id]:s})).with({type:"one"},({pair:[s,r]})=>vi(s.id,r)?ae({type:"Recursion",lhs:s,rhs:r}):Q({[s.id]:r})).with({type:"none"},({pair:s})=>de(Hn.diff(s)).with({type:"diff"},()=>ae({type:"DiffShape",lhs:e,rhs:t})).with({sub:"type"},{sub:"constraint"},()=>Q({})).with({sub:"func"},({pair:[r,i]})=>Jt(r.param,i.param).bind(o=>Jt($e.apply(o)(r.ret),$e.apply(o)(i.ret)).map(l=>$e.compose([l,o])))).exhaustive()).exhaustive()},lp=e=>{const t=q(e,xi,te.toArray,ke(n=>({[n]:Yt()})),xn);return{kind:$e.apply(t)(e),subst:t}},xi=e=>de(e).with({sub:"var"},({id:t})=>te.of([t])).with({sub:"type"},{sub:"constraint"},()=>te.empty()).with({sub:"func"},({param:t,ret:n})=>te.union([xi(t),xi(n)])).exhaustive();class ap extends Ua{fresh(){return up(this.nextId())}}class cp{kvs=new ap("k");infer(t,n=lr.empty()){return de(t).with({sub:"con"},({id:s})=>s in n?Q({kind:n[s],subst:{}}):ae({type:"UndefinedCon",id:s})).with({sub:"var"},({id:s})=>s in n?Q({kind:n[s],subst:{}}):ae({type:"UndefinedVar",id:s})).with({sub:"apply"},({func:s,arg:r})=>this.infer(s,n).bind(({kind:i,subst:o})=>this.infer(r,$e.applyDict(o)(n)).bind(({kind:l,subst:a})=>{const d=$e.apply(a)(i),u=this.kvs.fresh(),m=oo(l,u);return Jt(d,m).mapErr(gn.wrapErr).map(g=>({kind:$e.apply(g)(u),subst:$e.compose([g,a,o])}))}))).with({sub:"func"},({param:s,ret:r})=>this.infer(s,n).bind(({kind:i,subst:o})=>this.infer(r,$e.applyDict(o)(n)).bind(({kind:l,subst:a})=>Jt(i,Yt()).bind(d=>Jt(l,Yt()).map(u=>({kind:Yt(),subst:$e.compose([u,d,a,o])}))).mapErr(gn.wrapErr)))).exhaustive()}inferDataDecl(t,n){const{data:s}=t,r=q(s.typeParams,ke(o=>[o.id,this.kvs.fresh()]),on.of),i=lo(...s.typeParams.map(o=>r[o.id]),Yt());return Jt(n[s.id],i).mapErr(gn.wrapErr).bind(o=>{const l={...$e.applyDict(o)(n),...r},a=s.cons.flatMap(d=>d.params);return me.fold(a,{env:l,subst:o},({env:d,subst:u},m)=>this.infer(m,d).bind(({kind:g,subst:k})=>Jt(g,Yt()).mapErr(gn.wrapErr).map(I=>({env:$e.applyDict(I)(d),subst:$e.compose([I,k,u])}))))})}inferDataDecls(t,n){const s=q(t,ke(i=>[i.id,this.kvs.fresh()]),fs()),r={...n,...s};return me.fold(t,{env:r,subst:$e.empty()},({env:i,subst:o},l)=>this.inferDataDecl(l,i).map(({subst:a,env:d})=>({env:d,subst:$e.compose2(a,o)}))).map(({env:i,subst:o})=>q(t,ke(l=>lp(i[l.id]).subst),nd([o]),$e.compose,l=>({env:$e.applyDict(l)(i),subst:l})))}checkDecl(t,n){const s=t.ann.typeScheme.type,r=q(s,Qt,Es.from,Es.map(o=>[o.id,this.kvs.fresh()]),on.of),i={...n,...r};return this.infer(s,i).bind(({kind:o,subst:l})=>Jt(o,Yt()).mapErr(gn.wrapErr).map(a=>({subst:$e.compose2(a,l),env:$e.applyDict(a)(i)})))}checkList(t,n,s){return me.fold(t,{env:s,subst:$e.empty()},({env:r,subst:i},o)=>n(o,r).map(({env:l,subst:a})=>({env:l,subst:$e.compose2(a,i)})))}checkClassDef(t,n){const s={...n,[t.param.id]:this.kvs.fresh()};return this.checkList(Ne(t.bindingHost.declDict),this.checkDecl.bind(this),s)}checkMod(t,n){return this.inferDataDecls(t.dataDecls,n).bind(({env:s})=>this.checkList(Ne(t.bindingHost.declDict),this.checkDecl.bind(this),s).bind(({env:r})=>this.checkList(Ne(t.classDefDict),this.checkClassDef.bind(this),r)))}}var ie,kt,Ue,pl,Cn,ds,wi,gn;const B=e=>({sub:"con",id:e}),Lt=(e,t)=>({sub:"apply",func:e,arg:t}),Rs=(...[e,...t])=>t.length?q(Va(t),([n,s])=>Lt(Rs(e,...n),s)):e,ze=e=>({sub:"var",id:e,rigid:!1}),io=(e,t=e)=>({sub:"var",id:e,rigid:!0,customId:t}),Xt=ep(e=>e.id),Bn=(e,t)=>({sub:"func",param:e,ret:t}),Qe=(...e)=>{const[t,...n]=e;return n.length?Bn(t,Qe(...n)):t},Nr=e=>e.sub==="apply"?[...Nr(e.func),e.arg]:[e],za=e=>e.ret.sub==="func"?[e.param,...za(e.ret)]:[e.param,e.ret];(function(e){e.is=(s,r)=>r.includes(s.sub);function t(s,r){return n(s,r),s}e.coerce=t;function n(s,r){if(!r.includes(s.sub))throw new TypeError(`Expected type of sub ${r.join(" | ")}, got ${e.show(s)}.`)}e.assert=n,e.describe=s=>de(s).with({sub:"var"},r=>r).with({sub:"con"},r=>r.id===""?{sub:"tuple",args:[]}:r).with({sub:"func"},r=>({sub:"func",args:za(r).map(e.describe)})).with({sub:"apply"},r=>{const i=Nr(r),[o,...l]=i;return o.sub==="con"&&o.id.includes(",")?{sub:"tuple",args:l.map(e.describe)}:o.sub==="con"&&o.id==="[]"?{sub:"list",arg:e.describe(l[0])}:{sub:"apply",args:i.map(e.describe)}}).exhaustive(),e.needsParen=(s,r)=>r!==null&&(s.sub==="func"&&r.sub==="func"||s.sub==="func"&&r.sub==="apply"||s.sub==="apply"&&r.sub!=="func"||s.sub==="con"&&Ba(s.id)),e.show=Tr(e.describe,(s,r)=>de(s).with({sub:"dummy"},({inner:i})=>r(i)).with({sub:"con"},i=>i.id).with({sub:"var"},i=>`${i.rigid?"^":""}${i.id}`).with({sub:"func"},({args:i})=>i.map(r).join(" -> ")).with({sub:"apply"},({args:i})=>`${i.map(r).join(" ")}`).with({sub:"tuple"},({args:i})=>`(${i.map(r).join(", ")})`).with({sub:"list"},({arg:i})=>`[${r(i)}]`).exhaustive(),e.needsParen),e.rigidify=s=>de(s).with({sub:"var"},r=>io(r.id)).with({sub:"con"},()=>s).with({sub:"func"},r=>Bn(e.rigidify(r.param),e.rigidify(r.ret))).with({sub:"apply"},r=>Lt(e.rigidify(r.func),e.rigidify(r.arg))).exhaustive()})(Xe||(Xe={}));(function(e){e.show=({classId:t,arg:n})=>Xe.show(Lt(B(t),n))})(ki||(ki={}));(function(e){e.pure=t=>({boundVarSet:Xt.empty(),constrs:[],type:t}),e.mapType=t=>n=>({...n,type:t(n)}),e.mergeConstrs=t=>n=>({...n,constrs:[...n.constrs,...t]}),e.show=({type:t,boundVarSet:n})=>`${n.size?`∀ ${[...n].join(" ")}. `:""}${Xe.show(t)}`,e.prettify=t=>{const n=t.boundVarSet.size,s=[...t.boundVarSet],r=n<=3?[..."abc"]:eo(0,n).map(a=>`t${a+1}`);if(s.every(a=>a.rigid))return t;const o=G.empty(),l=Xt.empty();return s.forEach((a,d)=>{const u=io(a.id,r[d]);o[a.id]=u,l.add(u)}),{boundVarSet:l,constrs:t.constrs.map(G.applyConstr(o)),type:G.apply(o)(t.type)}}})(Ln||(Ln={}));(function(e){e.empty=()=>({}),e.applyBound=(t,n)=>{const s=r=>de(r).with({sub:"con"},()=>r).with({sub:"var"},i=>n.has(i)?r:t[i.id]??r).with({sub:"func"},i=>Bn(s(i.param),s(i.ret))).with({sub:"apply"},i=>Lt(s(i.func),s(i.arg))).exhaustive();return s},e.apply=t=>e.applyBound(t,Xt.empty()),e.applySourced=t=>ie.mapType(e.apply(t)),e.applyScheme=t=>({boundVarSet:n,type:s,constrs:r})=>({type:e.applyBound(t,n)(s),boundVarSet:n,constrs:r.map(e.applyConstr(t))}),e.applyDict=t=>ft(e.apply(t)),e.applySchemeDict=t=>ft(e.applyScheme(t)),e.applyConstr=t=>({classId:n,arg:s})=>({classId:n,arg:e.apply(t)(s)}),e.applyInferState=t=>n=>({subst:e.compose2(t,n.subst),constrs:n.constrs.map(e.applyConstr(t))}),e.applyInfer=t=>n=>({type:e.applySourced(t)(n.type),...e.applyInferState(t)(n)}),e.compose2=(t,n)=>({...t,...e.applyDict(t)(n)}),e.compose=t=>t.reduceRight((n,s)=>e.compose2(s,n),e.empty())})(G||(G={}));(function(e){e.empty=()=>({})})(vn||(vn={}));(function(e){e.empty=()=>({})})(lr||(lr={}));const et=(e,t)=>({typeScheme:Rr(e),value:t}),Yt=()=>({sub:"type"}),oo=(e,t)=>({sub:"func",param:e,ret:t}),lo=(...e)=>{const[t,...n]=e;return n.length?oo(t,lo(...n)):t},hn=e=>lo(...eo(0,e).map(()=>Yt())),up=e=>({sub:"var",id:e});(function(e){e.show=t=>de(t).with({sub:"type"},()=>"*").with({sub:"constraint"},()=>"Constraint").with({sub:"func"},({param:n,ret:s})=>`${n.sub==="func"?`(${e.show(n)})`:e.show(n)} -> ${e.show(s)}`).with({sub:"var"},({id:n})=>n).exhaustive(),e.needsParen=(t,n)=>n!==null&&t.sub==="func"&&n.sub==="func"&&n.param===t})(Di||(Di={}));(function(e){e.empty=()=>({}),e.apply=t=>n=>de(n).with({sub:"type"},()=>n).with({sub:"constraint"},()=>n).with({sub:"var"},({id:s})=>t[s]??n).with({sub:"func"},s=>oo(e.apply(t)(s.param),e.apply(t)(s.ret))).exhaustive(),e.applyDict=t=>ft(e.apply(t)),e.compose2=(t,n)=>({...t,...e.applyDict(t)(n)}),e.compose=t=>t.reduceRight((n,s)=>e.compose2(s,n),e.empty())})($e||($e={}));var Xe,ki,Ln,G,vn,lr,Di,$e;const Zt=(e,t)=>t.length?q(Va(t),([n,s])=>({type:"apply",func:Zt(e,n),arg:s})):e,fp=e=>{const{length:t}=e;return t===0?{type:"unit"}:t===1?e[0]:Zt({type:"var",id:",".repeat(t-1)},e)},dp=e=>{const{length:t}=e;return t===0?{type:"pattern",sub:"unit"}:t===1?e[0]:{type:"pattern",sub:"con",con:{type:"var",id:",".repeat(t-1)},args:e}},Ei=([e,...t],[n,...s],r)=>({type:"lambdaRes",param:e,body:t.length?Ei(t,s,r):r,idSet:n});(function(e){e.needsParen=(t,n)=>t.sub==="con"&&t.args.length>0,e.show=Tr(t=>t,(t,n)=>de(t).with({sub:"wildcard"},()=>"_").with({sub:"num"},({val:s})=>String(s)).with({sub:"unit"},()=>"").with({sub:"var"},({var:{id:s}})=>s).with({sub:"con"},({con:{id:s},args:r})=>`${s} ${r.map(n).join(" ")}`).with({sub:"tuple"},({elems:s})=>`(${s.map(n).join(", ")})`).with({sub:"list"},({elems:s})=>`[${s.map(n).join(", ")}]`).exhaustive(),e.needsParen)})(ar||(ar={}));(function(e){e.is=(t,n)=>n.includes(t.type),e.needsParen=(t,n)=>t.type==="var"&&Ba(t.id)&&(!n||!Array.of("infix","sectionL","sectionR").includes(n?.type))||t.type==="sectionL"||t.type==="sectionR"||n?.type==="apply"&&(t.type==="lambdaRes"||t.type==="apply"&&t===n.arg),e.show=Tr(t=>t,(t,n)=>{switch(t.type){case"num":return String(t.val);case"unit":return"";case"char":return rn(t.val,"'");case"str":return rn(t.val,'"');case"var":return t.id;case"cond":return`${n(t.cond)} ? ${n(t.yes)} : ${n(t.no)}`;case"let":case"letRes":case"letDes":return`let ${n(t.bindingHost)} in ${n(t.body)}`;case"case":case"caseRes":return`case ${n(t.subject)} of ${t.branches.map(n).join("; ")}`;case"caseBranch":case"caseBranchRes":return`${n(t.pattern)} -> ${n(t.body)}`;case"pattern":return ar.show(t);case"binding":case"bindingRes":return`${n(t.lhs)} = ${n(t.rhs)}`;case"equation":case"equationRes":return`${n(t.var)} ${t.params.map(n).join(" ")} = ${n(t.rhs)}`;case"lambdaMulti":case"lambdaMultiRes":return`(\\${t.params.map(n).join(" ")} -> ${n(t.body)})`;case"lambdaRes":return`(\\${n(t.param)} -> ${n(t.body)})`;case"applyMulti":return`(${n(t.func)} ${t.args.map(n).join(" ")})`;case"apply":return`(${n(t.func)} ${n(t.arg)})`;case"infix":return t.args.map((s,r)=>`${n(s)}${r<t.args.length-1?` ${n(t.ops[r])} `:""}`).join("");case"sectionL":return`(${n(t.arg)} ${n(t.op)})`;case"sectionR":return`(${n(t.op)} ${n(t.arg)})`;case"roll":return`(${t.times===null?"":n(t.times)}@${n(t.sides)})`;case"ann":return`(${n(t.expr)} :: ${n(t.ann)})`;case"typeNode":return Ln.show(t.typeScheme);case"bindingDef":case"bindingDefRes":return n(t.binding);case"equationDef":case"equationDefRes":return n(t.equation);case"equationDefGroupRes":return t.equationDefs.map(n).join(`
`);case"decl":return`${t.vars.map(n).join(",")} :: ${n(t.ann)}`;case"fixityDecl":return`${be.show(t)} ${t.vars.map(n).join(", ")}`;case"dataDecl":return`data ${[t.id,...t.data.typeParams].join(" ")} = ${t.data.cons.map(({id:s,params:r})=>`${s}${r.map(i=>` ${Xe.show(i)}`).join(" ")}`).join(" | ")}`;case"import":return`import ${t.modId}`;case"mod":case"modRes":case"modDes":return[...t.imports,...t.dataDecls,t.bindingHost].map(n).join(`

`);case"classDef":case"classDefRes":case"classDefDes":return`class ${t.id} ${Xe.show(t.param)} where
${dl(2)(n(t.bindingHost))}`;case"instanceDef":case"instanceDefRes":case"instanceDefDes":return`instance ${t.classId} ${Xe.show(t.arg)} where
${dl(2)(n(t.bindingHost))}`;case"bindingHost":return[...t.decls,...t.fixityDecls,...t.equationDefs,...t.bindingDefs].map(n).join(`

`);case"bindingHostRes":return[...Ne(t.declDict),...Ne(t.fixityDict),...Ne(t.equationDefGroupDict).flatMap(s=>s.equationDefs),...t.bindingDefs].map(n).join(`

`);case"bindingHostDes":return[...Ne(t.declDict),...Ne(t.fixityDict),...t.bindings].map(n).join(`

`);case"lambdaCase":case"lambdaCaseRes":return`\\case ${t.branches.map(n).join(`
`)}`;case"list":return`[${t.elems.map(n).join(", ")}]`;case"tuple":return`(${t.elems.map(n).join(", ")})`;case"paren":return`(${n(t.expr)})`}},e.needsParen)})($i||($i={}));const pp=e=>{let t=0;const n=s=>{const r={...s,astId:t++};switch(r.type){case"num":case"unit":case"var":case"typeNode":case"import":break;case"applyMulti":r.func=n(r.func),r.args=r.args.map(n);break;case"infix":r.ops=r.ops.map(n),r.args=r.args.map(n);break;case"sectionL":case"sectionR":r.arg=n(r.arg),r.op=n(r.op);break;case"cond":r.cond=n(r.cond),r.yes=n(r.yes),r.no=n(r.no);break;case"roll":r.times!==null&&(r.times=n(r.times)),r.sides=n(r.sides);break;case"let":r.bindingHost=n(r.bindingHost),r.body=n(r.body);break;case"case":r.subject=n(r.subject),r.branches=r.branches.map(n);break;case"lambdaMulti":r.params=r.params.map(n),r.body=n(r.body);break;case"lambdaCase":r.branches=r.branches.map(n);break;case"list":r.elems=r.elems.map(n);break;case"tuple":r.elems=r.elems.map(n);break;case"paren":r.expr=n(r.expr);break;case"caseBranch":r.pattern=n(r.pattern),r.body=n(r.body);break;case"pattern":switch(r.sub){case"num":case"unit":break;case"con":r.con=n(r.con),r.args=r.args.map(n);break;case"var":r.var=n(r.var);break;case"list":r.elems=r.elems.map(n);break;case"tuple":r.elems=r.elems.map(n);break}break;case"binding":r.lhs=n(r.lhs),r.rhs=n(r.rhs);break;case"equation":r.var=n(r.var),r.params=r.params.map(n),r.rhs=n(r.rhs);break;case"ann":r.expr=n(r.expr),r.ann=n(r.ann);break;case"bindingDef":r.binding=n(r.binding);break;case"equationDef":r.equation=n(r.equation);break;case"decl":r.vars=r.vars.map(n),r.ann=n(r.ann);break;case"fixityDecl":r.vars=r.vars.map(n);break;case"dataDecl":break;case"classDef":case"instanceDef":r.bindingHost=n(r.bindingHost);break;case"mod":r.imports=r.imports.map(n),r.bindingHost=n(r.bindingHost),r.dataDecls=r.dataDecls.map(n),r.classDefs=r.classDefs.map(n),r.instanceDefs=r.instanceDefs.map(n);break;case"bindingHost":r.decls=r.decls.map(n),r.fixityDecls=r.fixityDecls.map(n),r.bindingDefs=r.bindingDefs.map(n),r.equationDefs=r.equationDefs.map(n);break}return r};return n(e)};var ar,$i;const ao=e=>{let{index:t}=e;for(;t>=0&&e.input[t]!==`
`;)t--;return e.index-t-1},co=c.many(c.notEmpty(c.join(c.seq([c.join(c.many(c.char(" "))),c.alt([c.join(c.seq([c.str("--"),c.join(c.many(c.noneOf(`
`)))])),c.pure("")]),c.join(c.many(c.char(`
`)))])))),hp=e=>c.bind(co,()=>t=>e({...t,layout:[ao(t),...t.layout]})),Si=e=>c.bindValState(co,({state:t,val:n})=>n.length&&t.rest&&ao(t)<=t.layout[0]?c.fail(null):e),yp=e=>c.bindValState(co,({state:t,val:n})=>n.length&&ao(t)<t.layout[0]?c.fail(null):e),mp=e=>c.mapState(e,t=>({...t,layout:t.layout.slice(1)})),Or=e=>Si(c.map(c.seq([Si(hp(e)),mp(c.many(yp(e)))]),([t,n])=>[t,...n])),Ci=Si(c.pure(null)),Ce=c.right(Ci),re=c.delimitedBy(Ci,Ci),X=e=>t=>e(t).map(({val:n,state:s})=>({val:{...n,range:{start:t.index,end:s.index}},state:s})),gp=([e,t])=>t.reduce(([n,s],[r,i])=>[i,[[r,n],...s]],[e,[]]),Ka=X(c.map(c.decimal,e=>({type:"num",val:e}))),Wa=e=>c.alt([c.map(c.str("\\n"),()=>`
`),c.map(c.str("\\r"),()=>"\r"),c.map(c.str("\\t"),()=>"	"),c.map(c.str("\\"+e),()=>e),c.map(c.str("\\\\"),()=>"\\"),c.map(c.right(c.str("\\u"))(c.regex(/[0-9a-fA-F]{4}/)),t=>String.fromCodePoint(parseInt(t,16))),c.noneOf(`
\\`+e)]),bp=X(c.map(c.delimitedBy(c.char("'"),c.char("'"))(Wa("'")),e=>({type:"char",val:e}))),vp=X(c.map(c.delimitedBy(c.char('"'),c.char('"'))(c.join(c.many(Wa('"')))),e=>({type:"str",val:e}))),Ir=c.bind(c.regex(/[A-Za-z][A-Za-z\d']*|_[A-Za-z\d']+/),e=>c.result(Yd.includes(e)?ae(Un("IsReservedWord",{word:e})):Q(e))),Pr=c.guard(Ir,e=>Ar(e[0])),xp=c.guard(Ir,e=>La(e[0])),Ga=c.bind(c.join(c.some(c.oneOf(ja))),e=>c.result(Zd.includes(e)?ae(Un("IsReservedWord",{word:e})):Q(e))),wp=c.alt([Ga,c.join(c.some(c.char(",")))]),Mr=X(c.map(Ga,e=>({type:"var",id:e}))),Fr=X(c.map(wp,e=>({type:"var",id:e}))),kp=c.lazy(()=>X(c.bind(c.sep2(Vt,re(c.char(","))),e=>c.result(e.length>4?ae(Un("TooLargeTuple",{size:e.length})):Q({type:"tuple",elems:e}))))),Dp=X(c.pure({type:"unit"})),Ep=c.lazy(()=>X(c.map(Vt,e=>({type:"paren",expr:e})))),Ja=c.lazy(()=>X(c.parens(re(c.alt([kp,Tp,Rp,Fr,Ep,Dp]))))),$p=c.lazy(()=>X(c.map(c.brackets(re(c.sep0(Vt,re(c.char(","))))),e=>({type:"list",elems:e})))),Ai=c.lazy(()=>c.alt([Ja,$p,Ka,Vn,Wn,bp,vp])),Vn=X(c.map(xp,e=>({type:"var",id:e}))),Wn=X(c.map(Pr,e=>({type:"var",id:e}))),Ya=c.alt([Vn,c.parens(c.alt([Vn,Mr]))]),Sp=c.map(c.ranged(c.seq([c.opt(Ai),c.char("@"),Ai])),({val:[e,,t],range:n})=>({type:"roll",times:e,sides:t,range:n})),Za=c.alt([Sp,Ai]),hl=e=>e.type==="apply"&&e.func.type==="apply"&&e.func.func.type==="var"&&e.func.func.isInfix?e.func.func.id:null,Cp=X(c.lazy(()=>c.map(c.seq([c.alt([Vn,Wn,Ja]),c.some(Ce(Za))]),([e,t])=>({type:"applyMulti",func:e,args:t})))),Ti=c.lazy(()=>c.alt([Cp,Za,Qa,ec])),Ap=X(c.map(c.seq([Ti,c.some(c.seq([re(Mr),Ti]))]),([e,t])=>q(t.reduce(({ops:n,args:s},[r,i])=>({ops:[...n,r],args:[...s,i]}),{ops:[],args:[e]}),({ops:n,args:s})=>({type:"infix",ops:n,args:s})))),ps=c.lazy(()=>c.alt([Ap,Ti])),Tp=X(c.map(c.seq([ps,Ce(Fr)]),([e,t])=>({type:"sectionL",op:t,arg:e}))),Rp=X(c.map(c.seq([Fr,Ce(ps)]),([e,t])=>({type:"sectionR",op:e,arg:t}))),Np=c.lazy(()=>c.map(c.seq([ps,c.many(c.map(c.seq([re(c.str("?")),ps,re(c.char(":")),ps]),([,e,,t])=>[e,t]))]),e=>q(gp(e),([t,n])=>n.reduce((s,[r,i])=>({type:"cond",cond:i,yes:r,no:s,range:gi.outer(i.range,s.range)}),t)))),Op=c.lazy(()=>c.map(c.ranged(c.seq([cn,re(c.char("=")),Vt])),({val:[e,,t],range:n})=>({type:"binding",lhs:e,rhs:t,range:n}))),Ip=X(c.lazy(()=>c.map(c.seq([Ya,c.some(Ce(cn)),re(c.char("=")),Vt]),([e,t,,n])=>({type:"equation",var:e,params:t,rhs:n})))),uo=e=>c.lazy(()=>c.map(c.ranged(Or(c.alt([ic,oc,sc,rc]))),({val:t,range:n})=>q(t,$r("type"),({decl:s=[],fixityDecl:r=[],equationDef:i=[],bindingDef:o=[]})=>({type:"bindingHost",abstract:e,decls:s,fixityDecls:r,equationDefs:i,bindingDefs:o,range:n})))),Pp=X(c.lazy(()=>c.map(c.seq([c.str("class"),Ce(Pr),Ce(jr),Ce(c.str("where")),uo(!0)]),([,e,t,,n])=>({type:"classDef",id:e,param:t,bindingHost:n})))),Mp=X(c.lazy(()=>c.map(c.seq([c.str("instance"),Ce(Pr),Ce(kn),Ce(c.str("where")),uo(!1)]),([,e,t,,n])=>({type:"instanceDef",classId:e,arg:t,bindingHost:n})))),Qa=c.lazy(()=>c.map(c.ranged(c.seq([c.str("let"),uo(!1),re(c.str("in")),Vt])),({val:[,e,,t],range:n})=>({type:"let",bindingHost:e,body:t,range:n}))),Fp=X(c.map(c.char("_"),()=>({type:"pattern",sub:"wildcard"}))),jp=X(c.map(Ka,({val:e})=>({type:"pattern",sub:"num",val:e}))),Hp=X(c.parens(Ce(c.pure({type:"pattern",sub:"unit"})))),Bp=c.lazy(()=>X(c.map(Wn,e=>({type:"pattern",sub:"con",con:e,args:[]})))),Lp=c.lazy(()=>X(c.map(c.seq([Wn,c.some(Ce(cn))]),([e,t])=>({type:"pattern",sub:"con",con:e,args:t})))),Vp=c.parens(re(Lp)),qp=c.lazy(()=>X(c.map(c.brackets(c.sep0(cn,re(c.char(",")))),e=>({type:"pattern",sub:"list",elems:e})))),Up=c.lazy(()=>X(c.bind(c.sep2(c.alt([Xa,fo]),re(c.char(","))),e=>c.result(e.length>4?ae(Un("TooLargeTuple",{size:e.length})):Q({type:"pattern",sub:"tuple",elems:e}))))),zp=c.lazy(()=>c.parens(re(c.alt([Up,Wp,cn])))),Kp=c.map(Vn,e=>({type:"pattern",sub:"var",var:e,range:e.range})),Wp=c.map(Mr,e=>({type:"pattern",sub:"var",var:e,range:e.range})),fo=c.alt([zp,qp,Kp,Fp,Vp,Bp,jp,Hp]),Xa=c.lazy(()=>c.map(c.ranged(c.seq([fo,c.ranged(re(c.char("#"))),cn])),({val:[e,t,n],range:s})=>({type:"pattern",sub:"con",con:{type:"var",id:"#",range:t.range},args:[e,n],range:s}))),Gp=c.parens(re(Xa)),cn=c.alt([Gp,fo]),_a=c.lazy(()=>c.map(c.ranged(c.seq([cn,re(c.str("->")),Vt])),({val:[e,,t],range:n})=>({type:"caseBranch",pattern:e,body:t,range:n}))),ec=c.lazy(()=>c.map(c.ranged(c.seq([c.str("case"),Ce(Vt),re(c.str("of")),Or(_a)])),({val:[,e,,t],range:n})=>({type:"case",subject:e,branches:t,range:n}))),Jp=c.lazy(()=>X(c.map(c.seq([c.char("\\"),c.some(Ce(cn)),re(c.str("->")),Vt]),([,e,,t])=>({type:"lambdaMulti",params:e,body:t})))),Yp=c.lazy(()=>X(c.map(c.seq([c.char("\\"),Ce(c.str("case")),Or(_a)]),([,,e])=>({type:"lambdaCase",branches:e})))),po=c.map(c.guard(Ir,e=>Ar(e[0])),B),Zp=c.lazy(()=>c.map(c.brackets(re(c.opt(kn))),e=>e===null?B("[]"):Lt(B("[]"),e))),Qp=c.lazy(()=>c.map(c.sep2(kn,re(c.char(","))),e=>Rs(B(`${",".repeat(e.length-1)}`),...e))),Xp=c.pure(B("")),_p=c.lazy(()=>c.parens(c.alt([Qp,kn,Xp]))),ho=c.lazy(()=>c.alt([Zp,_p,po,jr])),yo=c.lazy(()=>c.map(c.seq([c.alt([po,jr]),c.some(Ce(ho))]),([e,t])=>Rs(e,...t))),eh=c.lazy(()=>c.map(c.seq([c.alt([yo,ho]),re(c.str("->")),kn]),([e,,t])=>Bn(e,t))),jr=c.map(c.guard(Ir,e=>La(e[0])),ze),kn=c.alt([eh,yo,ho]),tc=e=>X(c.map(e,t=>({type:"typeNode",typeScheme:q(t,Xe.rigidify,Rr)}))),nc=X(c.alt([Qa,ec,Yp,Jp,Np])),th=X(c.map(c.seq([nc,re(c.str("::")),tc(kn)]),([e,,t])=>({type:"ann",expr:e,ann:t}))),Vt=c.alt([th,nc]),sc=X(c.map(Op,e=>({type:"bindingDef",binding:e}))),rc=X(c.map(Ip,e=>({type:"equationDef",equation:e}))),ic=X(c.map(c.seq([c.sep1(Ya,re(c.char(","))),re(c.str("::")),tc(kn)]),([e,,t])=>({type:"decl",vars:e,ann:t}))),oc=X(c.map(c.seq([c.str("infix"),c.opt(c.oneOf("lr")),Ce(c.posint),Ce(c.sep1(Mr,re(c.char(","))))]),([,e,t,n])=>({type:"fixityDecl",assoc:e==="l"?"left":e==="r"?"right":"none",prec:t,vars:n}))),nh=X(c.lazy(()=>c.bind(c.seq([c.str("data"),Ce(Wn),c.many(Ce(jr)),re(c.char("=")),c.sep1(c.alt([yo,po]),re(c.char("|")))]),([,{id:e},t,,n])=>c.result(me.all(n.map(s=>q(s,Nr,([r,...i])=>r.sub==="con"?Q({id:r.id,params:i}):ae(Un("NotAConstructor",{type:r}))))).map(s=>({type:"dataDecl",id:e,data:{id:e,typeParams:t,cons:s}})))))),sh=X(c.map(c.seq([c.str("import"),Ce(Pr),c.opt(Ce(c.parens(re(c.map(c.sep0(c.alt([Vn,Wn,c.parens(Fr)]),re(c.char(","))),e=>e.map(({id:t})=>t))))))]),([,e,t])=>({type:"import",modId:e,ids:t}))),rh=c.map(c.ranged(Or(c.alt([sh,nh,Pp,Mp,ic,oc,sc,rc]))),({val:e,range:t})=>q(e,$r("type"),({import:n=[],dataDecl:s=[],classDef:r=[],instanceDef:i=[],decl:o=[],fixityDecl:l=[],equationDef:a=[],bindingDef:d=[]})=>({type:"mod",imports:n,dataDecls:s,classDefs:r,instanceDefs:i,bindingHost:{type:"bindingHost",abstract:!1,decls:o,fixityDecls:l,equationDefs:a,bindingDefs:d,range:t},range:t}))),ih=e=>t=>c.ended(re(e))({input:t,index:0,rest:t,layout:[-1]}).map(({val:n})=>n),lc=ih(c.map(rh,pp)),ac=e=>({tag:"num",val:e}),oh=e=>({tag:"con",id:e?"True":"False",args:[]}),cc=()=>({tag:"unit"}),yl=e=>({tag:"char",val:e}),$s=e=>({tag:"func",val:e}),uc=e=>t=>e===0?t():$s(n=>uc(e-1)((...s)=>t(n,...s))),lh=e=>e.reduceRight((t,n)=>Ri("#",[n,t]),Ri("[]",[])),Ri=(e,t)=>({tag:"con",id:e,args:t}),cr=e=>({tag:"err",msg:e}),lt=e=>$s(t=>$s(n=>Me.map([t,n],e))),Ni=e=>{if(Me.assert(e,"con"),e.id==="[]")return[];if(e.id==="#"){const[t,n]=e.args;return[t,...Ni(n)]}throw new TypeError(`Expected constructor of List, got ${e.id}.`)};(function(e){e.is=(n,s)=>s.includes(n.tag),e.isCon=(n,s)=>n.tag==="con"&&s.includes(n.id),e.wrap=n=>de(n).when(s=>typeof s=="number",ac).when(s=>typeof s=="boolean",oh).when(s=>typeof s=="function",$s).when(s=>s===null,cc).with({tag:"err"},qa).run(),e.unwrap=n=>de(n).with({tag:"unit"},()=>null).with({tag:"con"},s=>s.id==="True").otherwise(({val:s})=>s),e.map=(n,s)=>e.wrap(s(...n.map(e.unwrap)));function t(n,s){if(n.tag!==s)throw new TypeError(`Expected value of tag ${s}, got ${n.tag}.`)}e.assert=t,e.coerce=(n,s)=>(e.assert(n,s),n),e.describe=n=>de(n).with({tag:"num"},{tag:"unit"},{tag:"err"},{tag:"func"},{tag:"char"},s=>s).with({tag:"con"},s=>de(s).when(({id:r})=>r.includes(","),({args:r})=>({tag:"tuple",vals:r.map(e.describe)})).with({id:"#"},{id:"[]"},r=>{const i=Ni(r);return i.every(o=>o.tag==="char")?{tag:"str",val:i.map(o=>o.val).join("")}:{tag:"list",vals:Ni(r).map(e.describe)}}).otherwise(({id:r,args:i})=>({tag:"con",id:r,args:i.map(e.describe)}))).exhaustive(),e.needsParen=(n,s)=>s!==null&&n.tag!=="unit"&&s.tag==="con"&&n.tag==="con"&&n.args.length>0,e.show=Tr(e.describe,(n,s)=>de(n).with({tag:"num"},({val:r})=>String(r)).with({tag:"char"},({val:r})=>rn(r,"'")).with({tag:"str"},({val:r})=>rn(r,'"')).with({tag:"unit"},()=>"").with({tag:"func"},()=>"Func").with({tag:"con"},({id:r,args:i})=>de(r).with(",",()=>`(${i.map(s).join(", ")})`).otherwise(()=>[r,...i.map(s)].join(" "))).with({tag:"list"},({vals:r})=>`[${r.map(s).join(", ")}]`).with({tag:"tuple"},({vals:r})=>`(${r.map(s).join(", ")})`).with({tag:"err"},()=>"Err").exhaustive(),e.needsParen)})(Me||(Me={}));var Me;(function(e){e.getType=({id:t,typeParams:n},{params:s})=>Qe(...s.map(Xe.rigidify),Rs(B(t),...n.map(Xe.rigidify))),e.getValue=({id:t,params:n})=>uc(n.length)((...s)=>Ri(t,s)),e.getEnv=t=>q(t.cons,ke(n=>[n.id,Rr(e.getType(t,n))]),fs()),e.getValueEnv=({cons:t})=>q(t,ke(n=>[n.id,{value:e.getValue(n)}]),fs()),e.getTypedValueEnv=t=>q(t.cons,ke(n=>[n.id,et(e.getType(t,n),e.getValue(n))]),fs())})(Ss||(Ss={}));var Ss;(function(e){e.global=()=>ft(pc,t=>({value:t.value})),e.resolve=(t,n,s)=>{if(t in n)return n[t].value;throw new en(`Undefined variable '${t}' (unreachable)`,s)}})(fr||(fr={}));(function(e){e.roll=(t,n)=>{if(!Number.isInteger(t)||t<1)return cr(`Expected times of rolls to be a positive integer, got ${t}`);if(!Number.isInteger(n)||n<1)return cr(`Expected sides of rolls to be a positive integer, got ${n}`);let s=0;for(let r=0;r<t;r++){const i=Math.floor(Math.random()*n)+1;s+=i}return s}})(Oi||(Oi={}));const ur=(e,t)=>{switch(e.sub){case"wildcard":return{};case"num":return Me.assert(t,"num"),t.val!==e.val?null:{};case"unit":return Me.assert(t,"unit"),{};case"var":return{[e.var.id]:{value:t}};case"con":return Me.assert(t,"con"),e.con.id!==t.id?null:e.args.reduce((n,s,r)=>{if(!n)return null;const i=ur(s,t.args[r]);return i?{...n,...i}:null},{});default:throw new en(`Unknown pattern type: ${e.sub} (unreachable)`,e)}},fc=(e,t)=>{const n={...t,...q([...e.idSet],ke(s=>[s,{value:cr(`Uninitialized variable '${s}'`)}]),fs())};for(const s of e.bindingGroups)for(const{binding:r}of s.typedBindings){const{lhs:i,rhs:o}=r,l=ur(i,at(o,n));if(!l)throw new en("Non-exhaustive patterns in binding.",r);Object.assign(n,l)}return n};class en extends Error{node;name="EvaluateError";constructor(t,n){super(t),this.node=n}}const at=(e,t)=>{const s=(()=>{switch(e.type){case"num":return ac(e.val);case"unit":return cc();case"cond":{const r=at(e.cond,t);return Me.assert(r,"con"),r.id==="True"?at(e.yes,t):at(e.no,t)}case"char":return yl(e.val);case"str":return lh([...e.val].map(yl));case"var":return fr.resolve(e.id,t,e);case"letDes":{const r=fc(e.bindingHost,t);return at(e.body,r)}case"caseRes":{const r=at(e.subject,t);for(const i of e.branches){const o=ur(i.pattern,r);if(o)return at(i.body,{...t,...o})}throw new en("Non-exhaustive patterns in case.",e)}case"apply":{const r=at(e.func,t);Me.assert(r,"func");const i=at(e.arg,t);return r.val(i)}case"lambdaRes":return $s(r=>{const i=ur(e.param,r);if(!i)throw new en("Non-exhaustive patterns in param.",e);return console.log(ft(i,o=>Me.show(o.value))),at(e.body,{...t,...i})});case"ann":return at(e.expr,t)}})();if(s.tag==="err")throw new en(s.msg,e);return s},dc=(e,{compiledMods:t={}}={})=>{const n=q(Er(e.importDict),ke(([i,{idSet:o}])=>{const{valueEnv:l}=t[i];return o?Ta(l,[...o]):l}),xn),s=q(Ne(e.dataDict),ke(Ss.getValueEnv),xn),r={...fr.global(),...n,...s};return me.wrap(()=>fc(e.bindingHost,r)).tapErr(i=>{i instanceof en||console.error(i)})};var fr,Oi;const ah={eqNum:et(Qe(B("Num"),B("Num"),B("Bool")),lt((e,t)=>e===t)),ltNum:et(Qe(B("Num"),B("Num"),B("Bool")),lt((e,t)=>e<t)),leNum:et(Qe(B("Num"),B("Num"),B("Bool")),lt((e,t)=>e<=t)),gtNum:et(Qe(B("Num"),B("Num"),B("Bool")),lt((e,t)=>e>t)),geNum:et(Qe(B("Num"),B("Num"),B("Bool")),lt((e,t)=>e>=t)),addNum:et(Qe(B("Num"),B("Num"),B("Num")),lt((e,t)=>e+t)),subNum:et(Qe(B("Num"),B("Num"),B("Num")),lt((e,t)=>e-t)),mulNum:et(Qe(B("Num"),B("Num"),B("Num")),lt((e,t)=>e*t)),divNum:et(Qe(B("Num"),B("Num"),B("Num")),lt((e,t)=>e/t)),modNum:et(Qe(B("Num"),B("Num"),B("Num")),lt((e,t)=>e%t))},ch={undefined:et(ze("a"),cr("Undefined")),roll:et(Qe(B("Num"),B("Num"),B("Num")),lt(Oi.roll))},yn=(...e)=>e.map(ze),mo={Num:{id:"Num",typeParams:yn(),cons:[],kind:hn(1)},Char:{id:"Char",typeParams:yn(),cons:[],kind:hn(1)},"":{id:"",typeParams:yn(),cons:[{id:"",params:[]}],kind:hn(1)},"[]":{id:"[]",typeParams:yn("a"),cons:[{id:"[]",params:[]},{id:"#",params:[ze("a"),Rs(B("[]"),ze("a"))]}],kind:hn(2)},",":{id:",",typeParams:yn("a","b"),cons:[{id:",",params:[ze("a"),ze("b")]}],kind:hn(3)},",,":{id:",,",typeParams:yn("a","b","c"),cons:[{id:",,",params:[ze("a"),ze("b"),ze("c")]}],kind:hn(4)},",,,":{id:",,,",typeParams:yn("a","b","c","d"),cons:[{id:",,,",params:[ze("a"),ze("b"),ze("c"),ze("d")]}],kind:hn(5)}},pc={...ah,...ch,...q(Ne(mo),ke(Ss.getTypedValueEnv),xn)},uh=ft(pc,e=>e.typeScheme),fh=ft(mo,e=>e.kind);(function(e){e.empty=()=>({}),e.of=t=>$r(t,"classId")})(Ii||(Ii={}));(function(e){e.getEnv=t=>q(Er(t.bindingHost.declDict),ke(([n,s])=>[n,q(s.ann.typeScheme,Ln.mergeConstrs([{classId:t.id,arg:t.param}]))]),on.of)})(Pi||(Pi={}));var Ii,Pi;const hc=(e,t,{compiledMods:n={}}={})=>{const s=vn.empty();for(const[l,{idSet:a}]of Er(e.importDict)){const{typeEnv:d}=n[l];if(a){for(const u of a)if(u in d)s[u]=d[u];else if(!(u in t))return ae({type:"UnknownImport",modId:l,id:u})}else Object.assign(s,d)}const r=q(Ne(e.dataDict),ke(Ss.getEnv),xn),i=q(Ne(e.classDefDict),ke(Pi.getEnv),xn),o={...s,...uh,...r,...i};return new op(Ii.of(e.instanceDefs)).inferBindingHost(e.bindingHost,o).map(({env:l,state:a})=>({typeEnv:l,state:a}))},dh=(e,{compiledMods:t={}})=>{const n=lr.empty();for(const[r,{idSet:i}]of Er(e.importDict)){const{kindEnv:o,typeEnv:l}=t[r];if(i){for(const a of i)if(Ar(a[0])){if(a in o)n[a]=o[a];else if(!(a in l))return ae({type:"UnknownImport",modId:r,id:a})}}else Object.assign(n,o)}const s={...fh,...n};return new cp().checkMod(e,s).map(({env:r})=>({kindEnv:r}))},ph={unit:(e,t)=>t,num:(e,t)=>t,var:(e,t)=>t,char:(e,t)=>t,str:(e,t)=>t,pattern:(e,t)=>t,typeNode:(e,t)=>t,dataDecl:e=>e.panic({type:"Unreachable",nodeType:"dataDecl"}),decl:e=>e.panic({type:"Unreachable",nodeType:"decl"}),fixityDecl:e=>e.panic({type:"Unreachable",nodeType:"fixityDecl"}),import:e=>e.panic({type:"Unreachable",nodeType:"import"}),case:(e,t)=>({type:"caseRes",subject:e.resolve(t.subject),branches:t.branches.map(e.resolve)}),ann:(e,t)=>({...t,expr:e.resolve(t.expr)}),cond:(e,t)=>({...t,cond:e.resolve(t.cond),yes:e.resolve(t.yes),no:e.resolve(t.no)}),classDef:(e,t)=>({...t,type:"classDefRes",bindingHost:e.resolve(t.bindingHost)}),instanceDef:(e,t)=>({...t,type:"instanceDefRes",bindingHost:e.resolve(t.bindingHost)}),bindingHost:(e,t)=>{const n=q(t.decls,Hs(u=>u.vars.map(({id:m})=>[m,u])),Zr,e.unwrapDuplicate("decl")),s=q(t.fixityDecls,Hs(u=>u.vars.map(({id:m})=>[m,u])),Zr,e.unwrapDuplicate("fixityDecl")),r=t.bindingDefs.map(e.resolve),i=q(t.bindingDefs,ke(u=>u.binding.lhs),dr,e.unwrapConflictDef),o=on.empty();for(const u of t.equationDefs){const{var:{id:m},params:{length:g}}=u.equation;i.has(m)&&e.panic({type:"ConflictDef",id:m});const k=o[m],I=()=>e.resolve(u);k?(k.arity!==g&&e.panic({type:"DiffEquationArity",id:m}),k.equationDefs.push(I())):o[m]={type:"equationDefGroupRes",id:m,arity:g,equationDefs:[I()]}}const l=te.of(hi(o)),a=te.union([i,l]),{abstract:d}=t;if(!d)for(const u in n)a.has(u)||e.panic({type:"MissingDef",id:u});return{type:"bindingHostRes",abstract:d,declDict:n,fixityDict:s,bindingDefs:r,bindingDefIdSet:i,equationDefGroupDict:o,equationDefIdSet:l,idSet:a,bindingGroups:[]}},let:(e,t)=>({type:"letRes",bindingHost:e.resolve(t.bindingHost),body:e.resolve(t.body)}),binding:(e,t)=>({type:"bindingRes",lhs:e.resolve(t.lhs),rhs:e.resolve(t.rhs),idSet:q(t.lhs,Js,e.unwrapConflictDef)}),equation:(e,t)=>({type:"equationRes",var:t.var,params:t.params,rhs:e.resolve(t.rhs),idSet:q(t.params,dr,e.unwrapConflictDef)}),caseBranch:(e,t)=>({type:"caseBranchRes",pattern:t.pattern,body:e.resolve(t.body),idSet:q(t.pattern,Js,e.unwrapConflictDef)}),bindingDef:(e,t)=>({type:"bindingDefRes",binding:e.resolve(t.binding)}),equationDef:(e,t)=>({type:"equationDefRes",equation:e.resolve(t.equation)}),roll:(e,t)=>({...t,times:t.times?e.resolve(t.times):null,sides:e.resolve(t.sides)}),infix:(e,t)=>({...t,args:t.args.map(e.resolve)}),sectionL:(e,t)=>({...t,arg:e.resolve(t.arg)}),sectionR:(e,t)=>({...t,arg:e.resolve(t.arg)}),applyMulti:(e,t)=>({...t,func:e.resolve(t.func),args:t.args.map(e.resolve)}),lambdaMulti:(e,t)=>({type:"lambdaMultiRes",params:t.params,body:e.resolve(t.body),idSets:q(t.params,ke(n=>q(n,Js,e.unwrapConflictDef)),n=>q(n,te.disjointUnion,e.unwrapConflictDef,()=>n))}),lambdaCase:(e,t)=>({type:"lambdaCaseRes",branches:t.branches.map(e.resolve)}),list:(e,t)=>({...t,elems:t.elems.map(e.resolve)}),tuple:(e,t)=>({...t,elems:t.elems.map(e.resolve)}),paren:(e,t)=>({...t,expr:e.resolve(t.expr)}),mod:(e,{...t})=>{const n=q(t.imports,ke(Ra("modId")),Na(),te.of);!n.has("Prelude")&&"Prelude"in e.compiledMods&&(t.imports=[{type:"import",modId:"Prelude",ids:null},...t.imports],n.add("Prelude"));for(const{modId:g}of t.imports)g in e.compiledMods||e.panic({type:"UnknownMod",modId:g});const s=q(t.imports,$r("modId"),ft(g=>({idSet:g.some(({ids:k})=>k===null)?null:te.of(Hs(g,({ids:k})=>k))}))),r=q(t.dataDecls,Hs(g=>g.data.cons.map(({id:k})=>k)),te.strictOf,e.unwrapConflictDef),i=q(t.dataDecls,ke(g=>[g.id,g.data]),Zr,e.unwrapDuplicate("dataDecl")),o=e.resolve(t.bindingHost),l=q(t.classDefs,ke(g=>[g.id,e.resolve(g)]),on.strictOf,e.unwrapDuplicate("classDef")),a=t.instanceDefs.map(e.resolve),d=q(Ne(l),ke(g=>te.of(hi(g.bindingHost.declDict))),te.disjointUnion,e.unwrapDuplicate("decl")),u=q(te.disjointUnion([r,o.idSet,d]),e.unwrapDuplicate("decl"));return{...t,type:"modRes",importDict:s,importModIdSet:n,dataConIdSet:r,dataDict:i,classDefDict:l,instanceDefs:a,idSet:u,bindingHost:o}}},dr=e=>me.all(e.map(Js)).bind(te.disjointUnion),Js=e=>de(e).with({sub:"wildcard"},{sub:"num"},{sub:"unit"},()=>Q(te.empty())).with({sub:"tuple"},{sub:"list"},({elems:t})=>dr(t)).with({sub:"var"},({var:{id:t}})=>Q(te.of([t]))).with({sub:"con"},({args:t})=>dr(t)).exhaustive(),hh=(e,t)=>{const n={...e,resolve:s=>ph[s.type](n,s),panic:s=>{throw s},unwrapConflictDef:s=>s.mapErr(r=>({type:"ConflictDef",id:r})).unwrapBy(n.panic),unwrapDuplicate:s=>r=>r.mapErr(i=>({type:"Duplicate",sub:s,id:i})).unwrapBy(n.panic)};return me.wrap(()=>n.resolve(t))},yc=(e,{isMain:t,compiledMods:n={}}={})=>hh({compiledMods:n},e).bind(s=>t&&!s.bindingHost.idSet.has("main")?ae({type:"NoMain"}):dh(s,{compiledMods:n}).map(({kindEnv:r})=>({modRes:s,kindEnv:r}))),mc=e=>{const t={state:e,desugar:n=>yh[n.type](t,n),panic:n=>{throw n},getFixity:n=>t.state.fixityDict[n]??be.def(),fork:()=>mc({...t.state})};return t},yh={num:(e,t)=>t,unit:(e,t)=>t,var:(e,t)=>t,char:(e,t)=>t,str:(e,t)=>t,letRes:(e,t)=>{const n=e.fork();return{type:"letDes",bindingHost:n.desugar(t.bindingHost),body:n.desugar(t.body)}},caseRes:(e,t)=>({...t,subject:e.desugar(t.subject),branches:t.branches.map(e.desugar)}),cond:(e,t)=>({...t,cond:e.desugar(t.cond),yes:e.desugar(t.yes),no:e.desugar(t.no)}),roll:(e,t)=>Zt({type:"var",id:"roll"},[t.times??{type:"num",val:1},t.sides].map(e.desugar)),applyMulti:(e,t)=>Zt(e.desugar(t.func),t.args.map(e.desugar)),bindingRes:(e,t)=>({...t,lhs:e.desugar(t.lhs),rhs:e.desugar(t.rhs)}),equationRes:(e,t)=>({...t,var:t.var,params:t.params.map(e.desugar),rhs:e.desugar(t.rhs)}),caseBranchRes:(e,t)=>({...t,pattern:e.desugar(t.pattern),body:e.desugar(t.body)}),lambdaMultiRes:(e,t)=>Ei(t.params.map(e.desugar),t.idSets,e.desugar(t.body)),typeNode:(e,t)=>t,ann:(e,t)=>({...t,expr:e.desugar(t.expr)}),infix:(e,t)=>{const n=a=>e.getFixity(a),s=t.ops.map(a=>a.id),r=t.args.slice(),i=[],o=[];i.push(e.desugar(r.shift()));const l=()=>{const a=o.pop(),d=i.pop(),u=i.pop();i.push(Zt({type:"var",id:a,isInfix:!0},[u,d]))};for(;s.length;){const a=s.shift();for(;o.length;){const u=o.at(-1),m=n(u),g=n(a);let k=!1;if(m.prec>g.prec?k=!0:m.prec===g.prec&&((m.assoc!==g.assoc||m.assoc==="none")&&e.panic({type:"fixity",lOp:u,rOp:a,lFixity:m,rFixity:g}),m.assoc==="left"&&(k=!0)),k)l();else break}o.push(a);const d=e.desugar(r.shift());i.push(d)}for(;o.length;)l();return i[0]},sectionL:(e,t)=>{const n=e.desugar(t.arg);if(t.arg.type==="infix"){const s=hl(n);if(s){const r=e.getFixity(t.op.id),i=e.getFixity(s);(r.prec>i.prec||r.prec===i.prec&&r.assoc!=="left")&&e.panic({type:"section",expr:t})}}return{type:"apply",func:{type:"var",id:t.op.id},arg:n}},sectionR:(e,t)=>{const n=e.desugar(t.arg);if(t.arg.type==="infix"){const s=hl(n);if(s){const r=e.getFixity(t.op.id),i=e.getFixity(s);(r.prec>i.prec||r.prec===i.prec&&r.assoc!=="right")&&e.panic({type:"section",expr:t})}}return{type:"lambdaRes",param:{type:"pattern",sub:"var",var:{type:"var",id:"!lhs"}},body:Zt(t.op,[{type:"var",id:"!lhs"},n]),idSet:te.of(["!lhs"])}},lambdaCaseRes:(e,t)=>({type:"lambdaRes",param:{type:"pattern",sub:"var",var:{type:"var",id:"!subject"}},body:{type:"caseRes",subject:{type:"var",id:"!subject"},branches:t.branches.map(e.desugar)},idSet:te.of(["!subject"])}),list:(e,{elems:t})=>t.reduceRight((n,s)=>Zt({type:"var",id:"#"},[e.desugar(s),n]),{type:"var",id:"[]"}),tuple:(e,{elems:t})=>Zt({type:"var",id:`${",".repeat(t.length-1)}`},t.map(e.desugar)),paren:(e,{expr:t})=>e.desugar(t),pattern:(e,t)=>de(t).with({sub:"con"},n=>({...n,con:e.desugar(n.con),args:n.args.map(e.desugar)})).with({sub:"tuple"},n=>({type:"pattern",sub:"con",con:{type:"var",id:`${",".repeat(n.elems.length-1)}`},args:n.elems.map(e.desugar)})).with({sub:"list"},n=>e.desugar(n.elems.reduceRight((s,r)=>({type:"pattern",sub:"con",con:{type:"var",id:"#"},args:[r,s]}),{type:"pattern",sub:"con",con:{type:"var",id:"[]"},args:[]}))).otherwise(qa),bindingDefRes:(e,t)=>({...t,binding:e.desugar(t.binding)}),equationDefRes:(e,t)=>({...t,equation:e.desugar(t.equation)}),equationDefGroupRes:(e,t)=>{const n=t.equationDefs.map(e.desugar),s=eo(0,t.arity).map(a=>`!arg${a}`),r=s.map(a=>({type:"var",id:a})),i={type:"caseRes",subject:fp(r),branches:n.map(({equation:a})=>({type:"caseBranchRes",idSet:a.idSet,pattern:dp(a.params),body:a.rhs}))},o=Ei(r.map(a=>({type:"pattern",sub:"var",var:a})),s.map(te.solo),i),l={type:"bindingRes",idSet:te.solo(t.id),lhs:{type:"pattern",sub:"var",var:{type:"var",id:t.id}},rhs:o};return{type:"bindingDefRes",id:t.id,binding:l}},bindingHostRes:(e,t)=>(e.state.fixityDict={...e.state.fixityDict,...t.fixityDict},{...t,type:"bindingHostDes",bindings:[...Ne(t.equationDefGroupDict).map(e.desugar),...t.bindingDefs.map(e.desugar)].map(n=>n.binding)}),classDefRes:(e,t)=>({...t,type:"classDefDes",bindingHost:e.desugar(t.bindingHost)}),instanceDefRes:(e,t)=>({...t,type:"instanceDefDes",bindingHost:e.desugar(t.bindingHost)}),modRes:(e,t)=>({...t,type:"modDes",classDefDict:ft(t.classDefDict,e.desugar),instanceDefs:t.instanceDefs.map(e.desugar),bindingHost:e.desugar(t.bindingHost)})},mh=(e,t)=>{const n=mc(e);return me.wrap(()=>n.desugar(t))},gc=(e,{compiledMods:t})=>{const n=q(Ne(t),ke(s=>s.fixityDict),xn);return mh({fixityDict:{...Qd,...n,...e.bindingHost.fixityDict}},e)},gh=`-- Boolean

data Bool = True | False

(||) :: Bool -> Bool -> Bool
(||) True _ = True
(||) False y = y

(&&) :: Bool -> Bool -> Bool
(&&) False _ = False
(&&) True y = y

not :: Bool -> Bool
not True = False
not False = True

-- Number

(+) :: Num -> Num -> Num
(+) = addNum

(-) :: Num -> Num -> Num
(-) = subNum

(*) :: Num -> Num -> Num
(*) = mulNum

(/) :: Num -> Num -> Num
(/) = divNum

(%) :: Num -> Num -> Num
(%) = modNum

(==) :: Num -> Num -> Bool
(==) = eqNum

(/=) :: Num -> Num -> Bool
(/=) x y = not (x == y)

(<) :: Num -> Num -> Bool
(<) = ltNum

(>) :: Num -> Num -> Bool
(>) = gtNum

(<=) :: Num -> Num -> Bool
(<=) = leNum

(>=) :: Num -> Num -> Bool
(>=) = geNum

inf :: Num
inf = 1 / 0

neg :: Num -> Num
neg x = 0 - x

min :: Num -> Num -> Num
min x y = x < y ? x : y

max :: Num -> Num -> Num
max x y = x > y ? x : y

abs :: Num -> Num
abs x = x < 0 ? neg x : x

-- Function

id :: a -> a
id x = x

const :: a -> b -> a
const x _ = x

flip :: (a -> b -> c) -> b -> a -> c
flip f x y = f y x

(|>) :: a -> (a -> b) -> b
(|>) x f = f x

($) :: (a -> b) -> a -> b
($) f x = f x

(.) :: (b -> c) -> (a -> b) -> a -> c
(.) f g x = f (g x)

-- List

map :: (a -> b) -> [a] -> [b]
map _ [] = []
map f (x#xs) = f x # map f xs

filter :: (a -> Bool) -> [a] -> [a]
filter _ [] = []
filter p (x#xs) =
  let xs' = filter p xs
  in p x ? x#xs' : xs'

(<$>) = map
infixl 4 <$>

sort :: [Num] -> [Num]
sort [] = []
sort (p#xs) =
  let smallers = filter (< p) xs
      biggers = filter (>= p) xs
  in sort smallers ++ (p # sort biggers)

(++) :: [a] -> [a] -> [a]
(++) [] ys = ys
(++) (x#xs) ys = x # (xs ++ ys)

take :: Num -> [a] -> [a]
take 0 _ = []
take _ [] = []
take n (x#xs) = x # take (n - 1) xs

drop :: Num -> [a] -> [a]
drop 0 xs = xs
drop _ [] = []
drop n (x#xs) = drop (n - 1) xs

foldr :: (a -> b -> b) -> b -> [a] -> b
foldr _ z [] = z
foldr f z (x#xs) = f x (foldr f z xs)

-- Maybe

data Maybe a = Just a | Nothing

listToMaybe :: [a] -> Maybe a
listToMaybe [] = Nothing
listToMaybe (x#_) = Just x

maybeToList :: Maybe a -> [a]
maybeToList Nothing = []
maybeToList (Just x) = [x]

-- Tuple

data Solo a = MkSolo a

fst :: (a, b) -> a
fst (x, _) = x

snd :: (a, b) -> b
snd (_, y) = y

-- Either

data Either a b = Left a | Right b

-- Ordering

data Ordering = LT | EQ | GT

compare :: Num -> Num -> Ordering
compare x y =
  x < y ? LT :
  x > y ? GT :
  EQ
`,Bs=q({Prelude:gh},ft(e=>{const t=lc(e).unwrap(),{modRes:n,kindEnv:s}=yc(t,{compiledMods:{}}).unwrap(),{fixityDict:r}=n.bindingHost,i=gc(n,{compiledMods:{}}).unwrap(),{typeEnv:o}=hc(i,s,{compiledMods:{}}).unwrap(),l=dc(i).unwrap();return{typeEnv:o,valueEnv:l,fixityDict:r,kindEnv:s}}));(function(e){e.passSeq=["parse","resolve","desugar","check","execute"],e.passSeqGe=t=>e.passSeq.slice(e.passSeq.indexOf(t)),e.pipeline={parse:t=>lc(t.source).map(n=>({...t,parse:!0,mod:n})).mapErr(n=>({...t,parse:!1,err:n})),resolve:t=>yc(t.mod,{compiledMods:Bs,isMain:!0}).map(({modRes:n,kindEnv:s})=>({...t,resolve:!0,modRes:n,kindEnv:s})).mapErr(n=>({...t,resolve:!1,err:n})),desugar:t=>gc(t.modRes,{compiledMods:Bs}).map(n=>({...t,desugar:!0,modDes:n})).mapErr(n=>({...t,desugar:!1,err:n})),check:t=>hc(t.modDes,t.kindEnv,{compiledMods:Bs}).map(({typeEnv:n,state:s})=>({...t,check:!0,typeEnv:n,inferState:s})).mapErr(n=>({...t,check:!1,err:n})),execute:t=>dc(t.modDes,{compiledMods:Bs}).map(n=>({...t,execute:!0,valueEnv:n,mainValue:n.main.value})).mapErr(n=>({...t,execute:!1,err:n}))},e.inputState=t=>({source:t,parse:!1,resolve:!1,desugar:!1,check:!1,execute:!1}),e.pipeFrom=(t,n)=>me.fold(e.passSeqGe(t),n,(s,r)=>e.pipeline[r](s)).union(),e.pipe=t=>e.pipeFrom("parse",t)})(hs||(hs={}));(function(e){e.empty=()=>({result:null,samples:{},totalRuns:0,totalSamples:0,maxCount:0})})(Cs||(Cs={}));class bh{cache;constructor(t=Cs.empty()){this.cache=t}loadCache(t){const{result:n}=this.cache;return n?.execute&&(t===null||t===n.source)?{type:"hit",input:n}:t?{type:"unhit",input:hs.inputState(t)}:{type:"nosrc"}}run(t){const n=this.loadCache(t);if(n.type==="nosrc")return;const{cache:s}=this;n.type==="unhit"&&Object.assign(s,Cs.empty());const r=n.type==="hit"?hs.pipeFrom("execute",n.input):hs.pipe(n.input);if(r.check){s.totalRuns++;const i=r.execute?r.mainValue:{tag:"err",msg:r.err.message},o=Me.show(i),l=s.samples[o]??={value:i,count:0},a=++l.count;a===1&&s.totalSamples++,a>s.maxCount&&(s.maxCount=a)}return s.result=r}runToMultiple(t){const{cache:n}=this;if(!n.result?.check)return;const s=t-n.totalRuns%t;for(let r=0;r<s;r++)this.run(null)}}var hs,Cs;function vh(e){return Al()?(Pc(e),!0):!1}const xh=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const wh=Object.prototype.toString,kh=e=>wh.call(e)==="[object Object]";function Qr(e){return Array.isArray(e)?e:[e]}function Dh(e,t,n){return Pn(e,t,{...n,immediate:!0})}const Eh=xh?window:void 0;function $h(e){var t;const n=Vs(e);return(t=n?.$el)!=null?t:n}function ml(...e){const t=[],n=()=>{t.forEach(l=>l()),t.length=0},s=(l,a,d,u)=>(l.addEventListener(a,d,u),()=>l.removeEventListener(a,d,u)),r=Te(()=>{const l=Qr(Vs(e[0])).filter(a=>a!=null);return l.every(a=>typeof a!="string")?l:void 0}),i=Dh(()=>{var l,a;return[(a=(l=r.value)==null?void 0:l.map(d=>$h(d)))!=null?a:[Eh].filter(d=>d!=null),Qr(Vs(r.value?e[1]:e[0])),Qr(ue(r.value?e[2]:e[1])),Vs(r.value?e[3]:e[2])]},([l,a,d,u])=>{if(n(),!l?.length||!a?.length||!d?.length)return;const m=kh(u)?{...u}:u;t.push(...l.flatMap(g=>a.flatMap(k=>d.map(I=>s(g,k,I,m)))))},{flush:"post"}),o=()=>{i(),n()};return vh(n),o}const bc=()=>({node:null,fixedNode:null}),vc=(e,t)=>{const n=s=>"range"in s.node&&!!s.selection;return ml(e,"mousemove",s=>{s.stopPropagation(),n(t)&&(t.selection.node=t.node)}),ml(e,"click",s=>{s.stopPropagation(),n(t)&&(t.selection.fixedNode=t.selection.fixedNode?.astId===t.node.astId?null:t.node)}),{classes:Te(()=>({[t.node.type]:!0,selected:n(t)&&t.selection.node?.astId===t.node.astId,fixed:n(t)&&t.selection.fixedNode?.astId===t.node.astId}))}},Sh=["data-sub"],Ch={key:1,class:"node-var"},Ah={key:2,class:"node-con"},Th={key:0,class:"node-spaced-right"},Rh={key:0,class:"node-op node-spaced"},Nh={key:0},Oh=Ae({__name:"TypeDesc",props:{type:{},parent:{}},setup(e){const t=e,n=Te(()=>Xe.needsParen(t.type,t.parent));return(s,r)=>{const i=qn("TypeDesc",!0);return f(),p("span",{class:"type","data-sub":e.type.sub},[n.value?(f(),p(b,{key:0},[D("(")],64)):U("",!0),e.type.sub==="var"?(f(),p("span",Ch,F(e.type.rigid?e.type.customId:e.type.id),1)):e.type.sub==="con"?(f(),p("span",Ah,F(e.type.id),1)):e.type.sub==="tuple"?(f(),p(b,{key:3},[r[0]||(r[0]=D(" (",-1)),(f(!0),p(b,null,Y(e.type.args,(o,l)=>(f(),p(b,{key:l},[x(i,{type:o,parent:e.type},null,8,["type","parent"]),l+1<e.type.args.length?(f(),p("span",Th,",")):U("",!0)],64))),128)),r[1]||(r[1]=D(") ",-1))],64)):e.type.sub==="list"?(f(),p(b,{key:4},[r[2]||(r[2]=D(" [",-1)),x(i,{type:e.type.arg,parent:e.type},null,8,["type","parent"]),r[3]||(r[3]=D("] ",-1))],64)):e.type.sub==="func"?(f(!0),p(b,{key:5},Y(e.type.args,(o,l)=>(f(),p(b,{key:l},[x(i,{type:o,parent:e.type},null,8,["type","parent"]),l+1<e.type.args.length?(f(),p("span",Rh,"->")):U("",!0)],64))),128)):e.type.sub==="apply"?(f(!0),p(b,{key:6},Y(e.type.args,(o,l)=>(f(),p(b,{key:l},[x(i,{type:o,parent:e.type},null,8,["type","parent"]),l+1<e.type.args.length?(f(),p("span",Nh," ")):U("",!0)],64))),128)):U("",!0),n.value?(f(),p(b,{key:7},[D(")")],64)):U("",!0)],8,Sh)}}}),ct=Ae({__name:"TypeV",props:{type:{},hasParent:{type:Boolean}},setup(e){const t=e,n=Te(()=>Xe.describe(t.type)),s=Te(()=>t.hasParent?{sub:"dummy",inner:n.value}:null);return(r,i)=>(f(),xe(Oh,{type:n.value,parent:s.value},null,8,["type","parent"]))}}),Ih={key:1},Ph={key:2},Mh={class:"node-lit"},Fh={key:3},jh={key:4},Hh={key:5},Bh={key:6},Lh={key:0,class:"node-spaced-right"},Vh={key:7},qh={key:0,class:"node-spaced-right"},Uh=Ae({__name:"PatternV",props:{node:{},selection:{default:bc},parent:{default:null}},setup(e){const t=e,n=On("root"),{classes:s}=vc(n,t),r=Te(()=>ar.needsParen(t.node,t.parent));return(i,o)=>{const l=qn("PatternV",!0);return f(),p("span",{ref_key:"root",ref:n,class:Mt(["node pattern",ue(s)])},[r.value?(f(),p(b,{key:0},[D("(")],64)):U("",!0),e.node.sub==="var"?(f(),p("span",Ih,[x(Se,{node:e.node.var,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])])):e.node.sub==="num"?(f(),p("span",Ph,[w("span",Mh,F(e.node.val),1)])):e.node.sub==="unit"?(f(),p("span",Fh,"()")):e.node.sub==="con"?(f(),p("span",jh,[x(Se,{node:e.node.con,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),(f(!0),p(b,null,Y(e.node.args,a=>(f(),p(b,null,[o[0]||(o[0]=w("span",{class:"node-spaced-right"},null,-1)),x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])],64))),256))])):e.node.sub==="wildcard"?(f(),p("span",Hh,[...o[1]||(o[1]=[w("span",{class:"node-sym"},"_",-1)])])):e.node.sub==="list"?(f(),p("span",Bh,[o[2]||(o[2]=D(" [",-1)),(f(!0),p(b,null,Y(e.node.elems,(a,d)=>(f(),p(b,null,[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),d<e.node.elems.length-1?(f(),p("span",Lh,",")):U("",!0)],64))),256)),o[3]||(o[3]=D("] ",-1))])):e.node.sub==="tuple"?(f(),p("span",Vh,[o[4]||(o[4]=D(" (",-1)),(f(!0),p(b,null,Y(e.node.elems,(a,d)=>(f(),p(b,null,[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),d<e.node.elems.length-1?(f(),p("span",qh,",")):U("",!0)],64))),256)),o[5]||(o[5]=D(") ",-1))])):U("",!0),r.value?(f(),p(b,{key:8},[D(")")],64)):U("",!0)],2)}}}),zh={class:"type-scheme"},Kh={key:0},Wh={key:1},Gh={key:0,class:"node-spaced-right"},Jh=Ae({__name:"TypeScheme",props:{typeScheme:{}},setup(e){return(t,n)=>(f(),p("div",zh,[e.typeScheme.boundVarSet.size?(f(),p("span",Kh,[n[0]||(n[0]=w("span",{class:"node-sym"},"∀",-1)),(f(!0),p(b,null,Y(e.typeScheme.boundVarSet,(s,r)=>(f(),xe(ct,{key:s.id,type:s,class:Mt({"node-spaced-left":r>0})},null,8,["type","class"]))),128)),n[1]||(n[1]=w("span",{class:"node-sym node-spaced-right"},".",-1))])):U("",!0),e.typeScheme.constrs.length?(f(),p("span",Wh,[e.typeScheme.constrs.length>1?(f(),p(b,{key:0},[D("(")],64)):U("",!0),(f(!0),p(b,null,Y(e.typeScheme.constrs,(s,r)=>(f(),p("span",{key:r},[x(ct,{type:ue(Lt)(ue(B)(s.classId),s.arg)},null,8,["type"]),r<e.typeScheme.constrs.length-1?(f(),p("span",Gh,",")):U("",!0)]))),128)),e.typeScheme.constrs.length>1?(f(),p(b,{key:1},[D(")")],64)):U("",!0),n[2]||(n[2]=w("span",{class:"node-sym node-spaced"},"=>",-1))])):U("",!0),x(ct,{type:e.typeScheme.type},null,8,["type"])]))}}),go=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},xc=go(Jh,[["__scopeId","data-v-6ac87cf9"]]),Yh={key:0},Zh={key:1},Qh={class:"node-lit"},Xh={key:2},_h={key:3},ey={class:"node-lit"},ty={key:4},ny={class:"node-lit"},sy={key:5},ry={key:6},iy={key:7},oy={class:"node-block"},ly={class:"node-block"},ay={key:8},cy={key:9},uy={key:10},fy={key:11},dy={key:12},py={key:14},hy={key:15},yy={key:16},my={key:17},gy={key:18},by={key:19},vy={key:20},xy={key:21},wy={class:"node-block"},ky={key:22},Dy={key:0,class:"node-spaced-right"},Ey={key:23},$y={key:0,class:"node-spaced-right"},Sy={key:24},Cy={key:25},Ay={key:26},Ty={key:27},Ry={key:28},Ny={key:29},Oy={key:0,class:"node-spaced-right"},Iy={key:30},Py={class:"node-kw node-spaced-right"},My={class:"node-lit node-spaced-right"},Fy={key:0,class:"node-spaced-right"},jy={key:31},Hy={class:"node-con"},By={key:0,class:"node-sym node-spaced"},Ly={class:"node-con"},Vy={key:32},qy={class:"node-var"},Uy={key:0,class:"node-spaced-right"},zy={key:33,class:"node-host"},Ky={key:34},Wy={class:"node-con node-spaced-right"},Gy={key:35},Jy={class:"node-con node-spaced-right"},Yy={key:36,class:"node-host"},Zy={key:37},Se=Ae({__name:"NodeV",props:{node:{},selection:{},parent:{default:null}},setup(e){const t=e,n=On("root"),{classes:s}=vc(n,t),r=Te(()=>$i.needsParen(t.node,t.parent));return(i,o)=>{const l=qn("NodeV",!0);return f(),p("span",{class:Mt(["node",ue(s)]),ref_key:"root",ref:n},[r.value?(f(),p("span",Yh,"(")):U("",!0),e.node.type==="num"?(f(),p("span",Zh,[w("span",Qh,F(e.node.val),1)])):e.node.type==="unit"?(f(),p("span",Xh,"()")):e.node.type==="char"?(f(),p("span",_h,[w("span",ey,F(ue(rn)(e.node.val,"'")),1)])):e.node.type==="str"?(f(),p("span",ty,[w("span",ny,F(ue(rn)(e.node.val,'"')),1)])):e.node.type==="var"?(f(),p("span",sy,[w("span",{class:Mt(ue(Ha)(e.node.id)?"node-op":ue(Ar)(e.node.id[0])?"node-con":"node-var")},F(e.node.id),3)])):e.node.type==="roll"?(f(),p("span",ry,[e.node.times?(f(),xe(l,{key:0,node:e.node.times,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])):U("",!0),o[0]||(o[0]=w("span",{class:"node-sym"},"@",-1)),x(l,{node:e.node.sides,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])])):e.node.type==="cond"?(f(),p("span",iy,[x(l,{node:e.node.cond,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),w("div",oy,[o[1]||(o[1]=w("span",{class:"node-sym node-spaced-right"},"?",-1)),x(l,{node:e.node.yes,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])]),w("div",ly,[o[2]||(o[2]=w("span",{class:"node-sym node-spaced-right"},":",-1)),x(l,{node:e.node.no,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])])])):e.node.type==="let"||e.node.type==="letRes"||e.node.type==="letDes"?(f(),p("span",ay,[o[4]||(o[4]=w("span",{class:"node-kw"},"let",-1)),x(l,{node:e.node.bindingHost,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),w("div",null,[o[3]||(o[3]=w("span",{class:"node-kw"},"in",-1)),x(l,{node:e.node.body,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])])])):e.node.type==="binding"||e.node.type==="bindingRes"?(f(),p("span",cy,[x(l,{node:e.node.lhs,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),o[5]||(o[5]=w("span",{class:"node-sym node-spaced"},"=",-1)),x(l,{node:e.node.rhs,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])])):e.node.type==="equation"||e.node.type==="equationRes"?(f(),p("span",uy,[x(l,{node:e.node.var,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),(f(!0),p(b,null,Y(e.node.params,a=>(f(),xe(l,{node:a,selection:e.selection,parent:e.node,class:"node-spaced-left"},null,8,["node","selection","parent"]))),256)),o[6]||(o[6]=w("span",{class:"node-sym node-spaced"},"=",-1)),x(l,{node:e.node.rhs,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])])):e.node.type==="case"||e.node.type==="caseRes"?(f(),p("span",fy,[o[7]||(o[7]=w("span",{class:"node-kw"},"case",-1)),x(l,{node:e.node.subject,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),o[8]||(o[8]=w("span",{class:"node-kw node-spaced"},"of",-1)),(f(!0),p(b,null,Y(e.node.branches,(a,d)=>(f(),p("div",{key:d,class:"node-block"},[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])]))),128))])):e.node.type==="caseBranch"||e.node.type==="caseBranchRes"?(f(),p("span",dy,[x(l,{node:e.node.pattern,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),o[9]||(o[9]=w("span",{class:"node-sym node-spaced"},"->",-1)),x(l,{node:e.node.body,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])])):e.node.type==="pattern"?(f(),xe(Uh,{key:13,node:e.node},null,8,["node"])):e.node.type==="apply"?(f(),p("span",py,[x(l,{node:e.node.func,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),x(l,{node:e.node.arg,selection:e.selection,parent:e.node,class:"node-spaced-left"},null,8,["node","selection","parent"])])):e.node.type==="applyMulti"?(f(),p("span",hy,[x(l,{node:e.node.func,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),(f(!0),p(b,null,Y(e.node.args,a=>(f(),xe(l,{node:a,selection:e.selection,parent:e.node,class:"node-spaced-left"},null,8,["node","selection","parent"]))),256))])):e.node.type==="infix"?(f(),p("span",yy,[(f(!0),p(b,null,Y(e.node.args,(a,d)=>(f(),p(b,null,[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),d<e.node.args.length-1?(f(),xe(l,{key:0,node:e.node.ops[d],selection:e.selection,parent:e.node,class:"node-spaced"},null,8,["node","selection","parent"])):U("",!0)],64))),256))])):e.node.type==="sectionL"?(f(),p("span",my,[x(l,{node:e.node.arg,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),x(l,{node:e.node.op,selection:e.selection,parent:e.node,class:"node-spaced-left"},null,8,["node","selection","parent"])])):e.node.type==="sectionR"?(f(),p("span",gy,[x(l,{node:e.node.op,selection:e.selection,parent:e.node,class:"node-spaced-right"},null,8,["node","selection","parent"]),x(l,{node:e.node.arg,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])])):e.node.type==="lambdaRes"?(f(),p("span",by,[o[10]||(o[10]=w("span",{class:"node-sym"},"\\",-1)),x(l,{node:e.node.param,selection:e.selection,parent:e.node,class:"node-spaced-right"},null,8,["node","selection","parent"]),o[11]||(o[11]=w("span",{class:"node-sym node-spaced-right"},"->",-1)),x(l,{node:e.node.body,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])])):e.node.type==="lambdaMulti"||e.node.type==="lambdaMultiRes"?(f(),p("span",vy,[o[12]||(o[12]=w("span",{class:"node-sym"},"\\",-1)),(f(!0),p(b,null,Y(e.node.params,a=>(f(),xe(l,{node:a,selection:e.selection,parent:e.node,class:"node-spaced-right"},null,8,["node","selection","parent"]))),256)),o[13]||(o[13]=w("span",{class:"node-sym node-spaced-right"},"->",-1)),x(l,{node:e.node.body,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])])):e.node.type==="lambdaCase"||e.node.type==="lambdaCaseRes"?(f(),p("span",xy,[o[14]||(o[14]=w("span",{class:"node-sym"},"\\case",-1)),(f(!0),p(b,null,Y(e.node.branches,a=>(f(),p("div",wy,[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])]))),256))])):e.node.type==="list"?(f(),p("span",ky,[o[15]||(o[15]=D(" [",-1)),(f(!0),p(b,null,Y(e.node.elems,(a,d)=>(f(),p(b,{key:d},[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),d<e.node.elems.length-1?(f(),p("span",Dy,",")):U("",!0)],64))),128)),o[16]||(o[16]=D("] ",-1))])):e.node.type==="tuple"?(f(),p("span",Ey,[o[17]||(o[17]=D(" (",-1)),(f(!0),p(b,null,Y(e.node.elems,(a,d)=>(f(),p(b,{key:d},[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),d<e.node.elems.length-1?(f(),p("span",$y,",")):U("",!0)],64))),128)),o[18]||(o[18]=D(") ",-1))])):e.node.type==="paren"?(f(),p("span",Sy,[o[19]||(o[19]=D(" (",-1)),x(l,{node:e.node.expr,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),o[20]||(o[20]=D(") ",-1))])):e.node.type==="ann"?(f(),p("span",Cy,[x(l,{node:e.node.expr,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),o[21]||(o[21]=w("span",{class:"node-sym node-spaced"},"::",-1)),x(l,{node:e.node.ann,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])])):e.node.type==="typeNode"?(f(),p("span",Ay,[x(xc,{typeScheme:e.node.typeScheme},null,8,["typeScheme"])])):e.node.type==="bindingDef"||e.node.type==="bindingDefRes"?(f(),p("span",Ty,[x(l,{node:e.node.binding,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])])):e.node.type==="equationDef"||e.node.type==="equationDefRes"?(f(),p("span",Ry,[x(l,{node:e.node.equation,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])])):e.node.type==="decl"?(f(),p("span",Ny,[(f(!0),p(b,null,Y(e.node.vars,(a,d)=>(f(),p(b,null,[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),d<e.node.vars.length-1?(f(),p("span",Oy,",")):U("",!0)],64))),256)),o[22]||(o[22]=w("span",{class:"node-sym node-spaced"},"::",-1)),x(l,{node:e.node.ann,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])])):e.node.type==="fixityDecl"?(f(),p("span",Iy,[w("span",Py,"infix"+F(e.node.assoc==="left"?"l":e.node.assoc==="right"?"r":""),1),w("span",My,F(e.node.prec),1),(f(!0),p(b,null,Y(e.node.vars,(a,d)=>(f(),p(b,null,[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"]),d<e.node.vars.length-1?(f(),p("span",Fy,",")):U("",!0)],64))),256))])):e.node.type==="dataDecl"?(f(),p("span",jy,[o[23]||(o[23]=w("span",{class:"node-kw node-spaced-right"},"data",-1)),w("span",Hy,F(e.node.id),1),(f(!0),p(b,null,Y(e.node.data.typeParams,a=>(f(),xe(ct,{key:a.id,type:a,class:"node-spaced-left"},null,8,["type"]))),128)),o[24]||(o[24]=w("span",{class:"node-sym node-spaced"},"=",-1)),(f(!0),p(b,null,Y(e.node.data.cons,(a,d)=>(f(),p(b,{key:d},[d>0?(f(),p("span",By,"|")):U("",!0),w("span",Ly,F(a.id),1),(f(!0),p(b,null,Y(a.params,u=>(f(),xe(ct,{type:u,"has-parent":!0,class:"node-spaced-left"},null,8,["type"]))),256))],64))),128))])):e.node.type==="import"?(f(),p("span",Vy,[o[27]||(o[27]=w("span",{class:"node-kw"},"import",-1)),w("span",qy,F(e.node.modId),1),e.node.ids?(f(),p(b,{key:0},[o[25]||(o[25]=D(" (",-1)),(f(!0),p(b,null,Y(e.node.ids,(a,d)=>(f(),p(b,{key:d},[x(l,{node:{type:"var",id:a},parent:e.node},null,8,["node","parent"]),d<e.node.ids.length-1?(f(),p("span",Uy,",")):U("",!0)],64))),128)),o[26]||(o[26]=D(") ",-1))],64)):U("",!0)])):e.node.type==="bindingHost"||e.node.type==="bindingHostRes"||e.node.type==="bindingHostDes"?(f(),p("span",zy,[(f(!0),p(b,null,Y(e.node.type==="bindingHost"?e.node.decls:ue(Ne)(e.node.declDict),a=>(f(),p("div",null,[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])]))),256)),(f(!0),p(b,null,Y(e.node.type==="bindingHost"?e.node.fixityDecls:ue(Ne)(e.node.fixityDict),a=>(f(),p("div",null,[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])]))),256)),(f(!0),p(b,null,Y(e.node.type!=="bindingHostDes"?e.node.bindingDefs:e.node.bindings,a=>(f(),p("div",null,[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])]))),256)),(f(!0),p(b,null,Y(e.node.type==="bindingHost"?e.node.equationDefs:e.node.type==="bindingHostRes"?ue(Ne)(e.node.equationDefGroupDict).flatMap(a=>a.equationDefs):[],a=>(f(),p("div",null,[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])]))),256))])):e.node.type==="classDef"||e.node.type==="classDefRes"||e.node.type==="classDefDes"?(f(),p("span",Ky,[o[28]||(o[28]=w("span",{class:"node-kw"},"class",-1)),w("span",Wy,F(e.node.id),1),x(ct,{type:e.node.param,class:"node-spaced-right"},null,8,["type"]),o[29]||(o[29]=w("span",{class:"node-kw node-spaced-right"},"where",-1)),x(l,{node:e.node.bindingHost,selection:e.selection,parent:e.node,class:"node-block"},null,8,["node","selection","parent"])])):e.node.type==="instanceDef"||e.node.type==="instanceDefRes"||e.node.type==="instanceDefDes"?(f(),p("span",Gy,[o[30]||(o[30]=w("span",{class:"node-kw"},"instance",-1)),w("span",Jy,F(e.node.classId),1),x(ct,{type:e.node.arg,class:"node-spaced-right"},null,8,["type"]),o[31]||(o[31]=w("span",{class:"node-kw node-spaced-right"},"where",-1)),x(l,{node:e.node.bindingHost,selection:e.selection,parent:e.node,class:"node-block"},null,8,["node","selection","parent"])])):e.node.type==="mod"||e.node.type==="modRes"||e.node.type==="modDes"?(f(),p("span",Yy,[(f(!0),p(b,null,Y(e.node.imports,a=>(f(),p("div",null,[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])]))),256)),(f(!0),p(b,null,Y(e.node.dataDecls,a=>(f(),p("div",null,[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])]))),256)),(f(!0),p(b,null,Y(e.node.type==="mod"?e.node.classDefs:ue(Ne)(e.node.classDefDict),a=>(f(),p("div",null,[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])]))),256)),(f(!0),p(b,null,Y(e.node.instanceDefs,a=>(f(),p("div",null,[x(l,{node:a,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])]))),256)),x(l,{node:e.node.bindingHost,selection:e.selection,parent:e.node},null,8,["node","selection","parent"])])):U("",!0),r.value?(f(),p("span",Zy,")")):U("",!0)],2)}}}),Qy=Ae({__name:"TypeSource",props:{source:{}},setup(e){return(t,n)=>{const s=qn("TypeSource",!0);return e.source.type==="actual"?(f(),p(b,{key:0},[n[0]||(n[0]=D(" expression ",-1)),x(Se,{node:e.source.expr},null,8,["node"])],64)):e.source.type==="actual.Func"?(f(),p(b,{key:1},[n[1]||(n[1]=D(" application ",-1)),x(Se,{node:e.source.funcNode},null,8,["node"])],64)):e.source.type==="actual.Pattern"?(f(),p(b,{key:2},[n[2]||(n[2]=D(" pattern ",-1)),x(Se,{node:e.source.pattern},null,8,["node"])],64)):e.source.type==="elim.Func.param"?(f(),p(b,{key:3},[D(" the "+F(e.source.from.source.type==="actual.Func"?"argument":"parameter")+" of ",1),x(s,{source:e.source.from.source},null,8,["source"])],64)):e.source.type==="elim.Func.ret"?(f(),p(b,{key:4},[n[3]||(n[3]=D(" the return type of ",-1)),x(s,{source:e.source.from.source},null,8,["source"])],64)):e.source.type==="expect.Cond"?(f(),p(b,{key:5},[n[4]||(n[4]=D(" the expected type of the condition of ",-1)),x(Se,{node:e.source.condExpr},null,8,["node"])],64)):e.source.type==="infer.Func.ret"?(f(),p(b,{key:6},[n[5]||(n[5]=D(" the inferred return type of function ",-1)),x(Se,{node:e.source.funcNode},null,8,["node"])],64)):e.source.type==="infer.Binding.var"?(f(),p(b,{key:7},[n[6]||(n[6]=D(" the inferred type of variable ",-1)),x(Se,{node:{type:"var",id:e.source.varId}},null,8,["node"]),n[7]||(n[7]=D(" in binding ",-1)),x(Se,{node:e.source.bindingNode},null,8,["node"])],64)):e.source.type==="infer.Binding.val"?(f(),p(b,{key:8},[n[8]||(n[8]=D(" the inferred type of expression ",-1)),x(Se,{node:e.source.valExpr},null,8,["node"]),n[9]||(n[9]=D(" in binding ",-1)),x(Se,{node:e.source.bindingNode},null,8,["node"])],64)):e.source.type==="infer.Case"?(f(),p(b,{key:9},[n[10]||(n[10]=D(" the inferred type of case expression ",-1)),x(Se,{node:e.source.caseExpr},null,8,["node"])],64)):e.source.type==="infer.Lambda.param"?(f(),p(b,{key:10},[n[11]||(n[11]=D(" the inferred type of lambda parameter ",-1)),x(Se,{node:e.source.lambdaExpr},null,8,["node"])],64)):e.source.type==="ann.Ann"?(f(),p(b,{key:11},[n[12]||(n[12]=D(" the annotated type in expression ",-1)),x(Se,{node:e.source.annExpr},null,8,["node"])],64)):e.source.type==="ann.Decl"?(f(),p(b,{key:12},[n[13]||(n[13]=D(" the annotated type in declaration ",-1)),x(Se,{node:e.source.declNode},null,8,["node"])],64)):e.source.type==="elim.Apply.arg"?(f(),p(b,{key:13},[n[14]||(n[14]=D(" the argument of ",-1)),x(s,{source:e.source.from.source},null,8,["source"])],64)):e.source.type==="elim.Apply.func"?(f(),p(b,{key:14},[n[15]||(n[15]=D(" the function of ",-1)),x(s,{source:e.source.from.source},null,8,["source"])],64)):U("",!0)}}}),gl=Ae({__name:"TypeSourced",props:{type:{}},setup(e){return(t,n)=>(f(),p("span",null,[n[0]||(n[0]=D(" type ",-1)),x(ct,{type:e.type},null,8,["type"]),n[1]||(n[1]=D(" of ",-1)),x(Qy,{source:e.type.source},null,8,["source"])]))}}),Xr=Ae({__name:"ConstrV",props:{constr:{}},setup(e){return(t,n)=>(f(),xe(ct,{type:ue(Lt)(ue(B)(e.constr.classId),e.constr.arg)},null,8,["type"]))}}),Xy={class:"err section"},_y={class:"check-err-block"},em={class:"check-err-block"},tm={class:"check-err-block"},nm=Ae({__name:"CheckErr",props:{err:{}},setup(e){return(t,n)=>(f(),p("div",Xy,[n[5]||(n[5]=w("div",{class:"badge"},"check",-1)),n[6]||(n[6]=D(" Check Error: ",-1)),w("div",null,[e.err.type==="UnifyErr"?(f(),p(b,{key:0},[n[0]||(n[0]=D(" Cannot unify ",-1)),w("div",_y,[x(gl,{type:e.err.err.lhs},null,8,["type"])]),n[1]||(n[1]=D(" with ",-1)),w("div",em,[x(gl,{type:e.err.err.rhs},null,8,["type"])]),D(" because "+F(e.err.err.type==="Recursion"?"of recursion":e.err.err.type==="DiffShape"?"they are of different shapes":e.err.err.type==="DiffCon"?"they are different constructors":e.err.err.type==="RigidVar"?`the variable '${e.err.err.var}' is rigid`:"of unknown reasons")+". ",1)],64)):e.err.type==="UndefinedVar"?(f(),p(b,{key:1},[D(" Undefined variable '"+F(e.err.id)+"'. ",1)],64)):e.err.type==="PatternErr"?(f(),p(b,{key:2},[D(" Illegal pattern "+F(e.err.err.type),1)],64)):e.err.type==="UnknownImport"?(f(),p(b,{key:3},[D(" Module '"+F(e.err.modId)+"' has no exported symbol '"+F(e.err.id)+"'. ",1)],64)):e.err.type==="ConflictDefs"?(f(),p(b,{key:4},[D(" Conflict definitions for '"+F(e.err.id)+"'. ",1)],64)):e.err.type==="DuplicateDecls"?(f(),p(b,{key:5},[D(" Duplicate declarations for '"+F(e.err.id)+"'. ",1)],64)):e.err.type==="ConstrsSolveErr"?(f(),p(b,{key:6},[e.err.err.type==="NoInstance"?(f(),p(b,{key:0},[n[2]||(n[2]=D(" No instance found for constraint ",-1)),x(Xr,{constr:e.err.err.constr},null,8,["constr"])],64)):e.err.err.type==="AmbiguousInstance"?(f(),p(b,{key:1},[n[3]||(n[3]=D(" Ambiguous instances found for constraint ",-1)),x(Xr,{constr:e.err.err.constr},null,8,["constr"]),n[4]||(n[4]=D(": ",-1)),w("div",tm,[(f(!0),p(b,null,Y(e.err.err.instances,s=>(f(),p("div",null,[x(Xr,{constr:s},null,8,["constr"])]))),256))])],64)):U("",!0)],64)):U("",!0)])]))}}),sm={class:"node-label"},rm=Ae({__name:"NodeLabel",props:{node:{}},setup(e){return(t,n)=>(f(),p("span",sm,[e.node?(f(),p(b,{key:0},[D(" <"+F(e.node.type)+"#"+F(e.node.astId)+"@"+F(e.node.range.start)+":"+F(e.node.range.end)+"> ",1)],64)):(f(),p(b,{key:1},[D("<null>")],64))]))}}),bl=go(rm,[["__scopeId","data-v-51341d3d"]]),im={class:"ok section"},om={class:"section-head"},lm=Ae({__name:"ParseOk",props:{result:{},selection:{}},setup(e){const t=Pt(!1);return(n,s)=>(f(),p("div",im,[s[5]||(s[5]=w("div",{class:"badge"},"parse",-1)),w("div",om,[s[4]||(s[4]=D(" AST: ",-1)),w("button",{onClick:s[0]||(s[0]=r=>t.value=!t.value)},F(t.value?"+":"-"),1),w("div",null,[s[2]||(s[2]=D(" Selected node: ",-1)),x(bl,{node:e.selection.node},null,8,["node"])]),w("div",null,[s[3]||(s[3]=D(" Fixed node: ",-1)),x(bl,{node:e.selection.fixedNode},null,8,["node"])])]),t.value?U("",!0):(f(),xe(Se,{key:0,node:e.result.mod,selection:e.selection,onMouseleave:s[1]||(s[1]=r=>e.selection.node=null)},null,8,["node","selection"]))]))}}),am={class:"super-section"},cm={class:"ok section"},um={class:"section-head"},fm={key:0},dm={class:"ok section"},pm=Ae({__name:"CheckOk",props:{result:{}},setup(e){const t=Pt(!1);return(n,s)=>(f(),p("div",am,[w("div",cm,[s[3]||(s[3]=w("div",{class:"badge"},"check",-1)),w("div",um,[s[1]||(s[1]=D(" Types: ",-1)),w("button",{onClick:s[0]||(s[0]=r=>t.value=!t.value)},F(t.value?"all":"user"),1)]),(f(!0),p(b,null,Y(e.result.typeEnv,(r,i)=>(f(),p(b,{key:i},[t.value||e.result.modRes.idSet.has(i)?(f(),p("div",fm,[x(Se,{node:{type:"var",id:i}},null,8,["node"]),s[2]||(s[2]=w("span",{class:"node-sym node-spaced"},"::",-1)),x(xc,{"type-scheme":ue(Ln).prettify(r)},null,8,["type-scheme"])])):U("",!0)],64))),128))]),w("div",dm,[s[4]||(s[4]=w("div",{class:"section-head"},"Constraints:",-1)),(f(!0),p(b,null,Y(e.result.inferState.constrs,r=>(f(),p("div",null,[x(ct,{type:ue(Lt)(ue(B)(r.classId),r.arg)},null,8,["type"])]))),256))])]))}}),hm={class:"ok section"},ym={class:"section-head"},mm=Ae({__name:"DesugarOk",props:{result:{}},setup(e){const t=Pt(!1);return(n,s)=>(f(),p("div",hm,[s[2]||(s[2]=w("div",{class:"badge"},"desugar",-1)),w("div",ym,[s[1]||(s[1]=D(" Desugared AST: ",-1)),w("button",{onClick:s[0]||(s[0]=r=>t.value=!t.value)},F(t.value?"+":"-"),1)]),t.value?U("",!0):(f(),xe(Se,{key:0,node:e.result.modDes},null,8,["node"]))]))}}),gm={class:"value"},bm={key:1},vm={class:"value-lit"},xm={key:2},wm={class:"value-lit"},km={key:3},Dm={class:"value-lit"},Em={key:4},$m={key:5,class:"value-apply"},Sm={class:"value-con"},Cm={key:6},Am={key:0},Tm={key:7},Rm={key:0},Nm={key:8},Om=Ae({__name:"ValueDesc",props:{value:{},parent:{}},setup(e){const t=e,n=Te(()=>Me.needsParen(t.value,t.parent));return(s,r)=>{const i=qn("ValueDesc",!0);return f(),p("div",gm,[n.value?(f(),p(b,{key:0},[D("(")],64)):U("",!0),e.value.tag==="num"?(f(),p("span",bm,[w("span",vm,F(e.value.val),1)])):e.value.tag==="char"?(f(),p("span",xm,[w("span",wm,F(ue(rn)(e.value.val,"'")),1)])):e.value.tag==="str"?(f(),p("span",km,[w("span",Dm,F(ue(rn)(e.value.val,'"')),1)])):e.value.tag==="func"?(f(),p("span",Em,[...r[0]||(r[0]=[w("span",{class:"value-special"},"Func",-1)])])):e.value.tag==="con"?(f(),p("span",$m,[w("span",Sm,F(e.value.id),1),(f(!0),p(b,null,Y(e.value.args,(o,l)=>(f(),p(b,{key:l},[r[1]||(r[1]=D("  ",-1)),x(i,{value:o,parent:e.value},null,8,["value","parent"])],64))),128))])):e.value.tag==="list"?(f(),p("span",Cm,[r[2]||(r[2]=D(" [",-1)),(f(!0),p(b,null,Y(e.value.vals,(o,l)=>(f(),p(b,{key:l},[x(i,{value:o,parent:e.value},null,8,["value","parent"]),l+1<e.value.vals.length?(f(),p("span",Am,", ")):U("",!0)],64))),128)),r[3]||(r[3]=D("] ",-1))])):e.value.tag==="tuple"?(f(),p("span",Tm,[r[4]||(r[4]=D(" (",-1)),(f(!0),p(b,null,Y(e.value.vals,(o,l)=>(f(),p(b,{key:l},[x(i,{value:o,parent:e.value},null,8,["value","parent"]),l+1<e.value.vals.length?(f(),p("span",Rm,", ")):U("",!0)],64))),128)),r[5]||(r[5]=D(") ",-1))])):e.value.tag==="unit"?(f(),p("span",Nm,"()")):U("",!0),n.value?(f(),p(b,{key:9},[D(")")],64)):U("",!0)])}}}),Im=go(Om,[["__scopeId","data-v-de4d0c3a"]]),Pm=Ae({__name:"ValueV",props:{value:{}},setup(e){return(t,n)=>(f(),xe(Im,{value:ue(Me).describe(e.value),parent:null},null,8,["value"]))}}),Mm={class:"execute super-section"},Fm={class:"section"},jm={key:0,class:"ok section"},Hm={key:1,class:"err section"},Bm={class:"ok section"},Lm={class:"dis-total"},Vm={class:"dis-scroll"},qm={class:"dis-measure-container"},Um={class:"dis-measure",ref:"disMeasure"},zm=["width"],Km=["transform"],Wm=["y","height"],Gm=["y"],Jm=["y"],Ym=["y"],Zm=["width","height"],Qm=["y"],Xm=["x","y"],_m=["x","y","width"],eg=["x","y"],tg=Ae({__name:"ExecuteResult",props:{result:{},runner:{},runnerCache:{}},setup(e){const t=e,n=On("disMeasure"),s=Te(()=>n.value?.getBoundingClientRect().width??0),r=Te(()=>n.value?.getBoundingClientRect().height??0),i=Pt("horizontal"),o=Te(()=>i.value==="horizontal"?"vertical":"horizontal"),l=Pt(!0),a=Pt(1),d=j=>{if(j.sub!=="con"&&j.sub!=="apply")return()=>0;const[R,...L]=Nr(j);if(Xe.assert(R,["con"]),R.id==="Num")return(Z,_)=>(Me.assert(Z,"num"),Me.assert(_,"num"),Z.val-_.val);const M=mo[R.id];return(Z,_)=>{Me.assert(Z,"con"),Me.assert(_,"con");const ne=M.cons.findIndex(pt=>pt.id===Z.id),ve=M.cons.findIndex(pt=>pt.id===_.id),ge=ne-ve;if(ge!==0)return ge;const Oe=M.cons[ne],dt=Object.fromEntries(ol(M.typeParams,L));return ol(Z.args,_.args).reduce((pt,[Dn,Gn],Ns)=>{const Ie=G.apply(dt)(Oe.params[Ns]);return pt||d(Ie)(Dn,Gn)},0)}},u=Te(()=>{const{result:j}=t.runner.cache;if(!j?.check)return()=>0;if(l.value)return(L,M)=>L.count-M.count;const{type:R}=j.typeEnv.main;return(L,M)=>d(R)(L.value,M.value)}),m=Te(()=>(j,R)=>a.value*u.value(j,R)),g=Te(()=>{const j=t.runnerCache;if(!j.totalRuns)return[];const R=Object.entries(j.samples).sort((_,ne)=>m.value(_[1],ne[1])),L=R.findIndex(_=>_[0]==="Error");if(L>0){const[_]=R.splice(L,1);R.unshift(_)}const M=[];let Z=.5*s.value;for(const[_,{value:ne,count:ve}]of R){const ge=ve/j.maxCount,Oe=Math.max(5,_.length)*s.value;M.push({x:Z,y:100*(1-ge),width:Oe,height:100*ge,value:ne,label:_,ratio:ge,prob:`${(ve/j.totalRuns*100).toFixed(1)}%`,count:ve}),Z+=Oe+5}return M}),k=Te(()=>{const j=g.value.at(-1);if(!j)return 0;const{x:R,width:L}=j;return R+L+.5*s.value}),I=Te(()=>String(t.runnerCache.maxCount).length*s.value),P=Te(()=>6*s.value),J=Te(()=>Math.max(...g.value.map(j=>j.width)));return(j,R)=>(f(),p("div",Mm,[w("div",Fm,[R[6]||(R[6]=D(" Result: ",-1)),w("button",{onClick:R[0]||(R[0]=L=>e.runner.run(null))},"Re-run"),w("button",{onClick:R[1]||(R[1]=L=>e.runner.runToMultiple(100))},"Re-run to 100x"),w("button",{onClick:R[2]||(R[2]=L=>e.runner.runToMultiple(1e3))},"Re-run to 1000x")]),e.result.execute?(f(),p("div",jm,[R[7]||(R[7]=w("div",{class:"badge"},"execute",-1)),R[8]||(R[8]=D(" Value: ",-1)),x(Pm,{value:e.result.mainValue},null,8,["value"])])):(f(),p("div",Hm,[R[10]||(R[10]=w("div",{class:"badge"},"execute",-1)),e.result.err instanceof ue(en)?(f(),p(b,{key:0},[w("pre",null,F(e.result.err),1),R[9]||(R[9]=D(" at ",-1)),x(Se,{node:e.result.err.node},null,8,["node"])],64)):(f(),p(b,{key:1},[D(" Internal "+F(e.result.err),1)],64))])),w("div",Bm,[w("div",null,[R[11]||(R[11]=D(" Distribution (",-1)),w("span",Lm,F(e.runnerCache.totalRuns)+"x",1),R[12]||(R[12]=D("): ",-1)),w("button",{onClick:R[3]||(R[3]=L=>i.value=o.value)},F(ue(ed)(i.value))+" view",1),w("button",{onClick:R[4]||(R[4]=L=>l.value=!l.value)},"Sort by "+F(l.value?"count":"label"),1),w("button",{onClick:R[5]||(R[5]=L=>a.value=-a.value)},"Sort "+F(a.value>0?"desc":"asc"),1)]),w("div",Vm,[w("div",qm,[w("span",Um,"x",512)]),i.value==="horizontal"?(f(),p("svg",{key:0,"xmlns:xhtml":"http://www.w3.org/1999/xhtml",class:"dis-graph horizontal",width:k.value+10,height:140},[(f(!0),p(b,null,Y(g.value,({x:L,y:M,width:Z,height:_,label:ne,count:ve,prob:ge})=>(f(),p("g",{key:ne,class:Mt(["dis-bar",{"dis-bar-err":ne==="Error"}]),transform:`translate(${L+Z/2}, 0)`},[w("rect",{class:"dis-bar-bar",x:-15,y:M,width:30,height:_},null,8,Wm),w("text",{class:"dis-bar-val",x:0,y:100+r.value},F(ne),9,Gm),w("text",{class:"dis-bar-count",x:0,y:100+r.value*2},F(ve),9,Jm),w("text",{class:"dis-bar-count",x:0,y:100+r.value*3},F(ge),9,Ym)],10,Km))),128))],8,zm)):i.value==="vertical"?(f(),p("svg",{key:1,class:"dis-graph vertical",width:I.value+P.value+200+J.value+20,height:e.runnerCache.totalSamples*15+10},[(f(!0),p(b,null,Y(g.value,({label:L,count:M,prob:Z,ratio:_},ne)=>(f(),p("g",{key:L,class:Mt(["dis-bar",{"dis-bar-err":L==="Error"}])},[w("text",{class:"dis-bar-count",x:0,y:15*ne+10},F(M),9,Qm),w("text",{class:"dis-bar-count",x:I.value+5,y:15*ne+10},F(Z),9,Xm),w("rect",{class:"dis-bar-bar",x:I.value+P.value+10,y:15*ne+10-10/2,width:_*200,height:10},null,8,_m),w("text",{class:"dis-bar-val",x:I.value+P.value+200+15,y:15*ne+10},F(L),9,eg)],2))),128))],8,Zm)):U("",!0)])])]))}}),ng={class:"err section"},sg=Ae({__name:"ParseErr",props:{err:{}},setup(e){return(t,n)=>(f(),p("div",ng,[n[0]||(n[0]=w("div",{class:"badge"},"parse",-1)),n[1]||(n[1]=D(" Parse Error: ",-1)),e.err===null?(f(),p(b,{key:0},[D(" Unknown Error ")],64)):(f(),p(b,{key:1},[D(F(e.err.type),1)],64))]))}}),rg={class:"err section"},ig=Ae({__name:"DesugarErr",props:{err:{}},setup(e){return(t,n)=>(f(),p("div",rg,[n[2]||(n[2]=w("div",{class:"badge"},"desugar",-1)),n[3]||(n[3]=D(" Desugar Error: ",-1)),e.err.type==="fixity"?(f(),p(b,{key:0},[n[0]||(n[0]=D(" Cannot mix ",-1)),x(Se,{node:{type:"var",id:e.err.lOp}},null,8,["node"]),D(" ["+F(ue(be).show(e.err.lFixity))+"] and ",1),x(Se,{node:{type:"var",id:e.err.rOp}},null,8,["node"]),D(" ["+F(ue(be).show(e.err.rFixity))+"] in the same infix expression ",1)],64)):e.err.type==="section"?(f(),p(b,{key:1},[n[1]||(n[1]=D(" Arbitrary section expression ",-1)),x(Se,{node:e.err.expr},null,8,["node"])],64)):U("",!0)]))}}),og=["data-sub"],lg={key:1,class:"node-var"},ag={key:2,class:"node-con"},Mi=Ae({__name:"KindV",props:{kind:{},parent:{default:null}},setup(e){const t=e,n=Te(()=>Di.needsParen(t.kind,t.parent));return(s,r)=>{const i=qn("KindV",!0);return f(),p("span",{class:"kind","data-sub":e.kind.sub},[n.value?(f(),p(b,{key:0},[D("(")],64)):U("",!0),e.kind.sub==="var"?(f(),p("span",lg,F(e.kind.id),1)):e.kind.sub==="type"?(f(),p("span",ag,"*")):e.kind.sub==="func"?(f(),p(b,{key:3},[x(i,{kind:e.kind.param,parent:e.kind},null,8,["kind","parent"]),r[0]||(r[0]=w("span",{class:"node-op node-spaced"},"->",-1)),x(i,{kind:e.kind.ret,parent:e.kind},null,8,["kind","parent"])],64)):U("",!0),n.value?(f(),p(b,{key:4},[D(")")],64)):U("",!0)],8,og)}}}),cg={class:"ok section"},ug={class:"section-head"},fg={key:0},dg=Ae({__name:"ResolveOk",props:{result:{}},setup(e){const t=Pt(!1);return(n,s)=>(f(),p("div",cg,[s[3]||(s[3]=w("div",{class:"badge"},"resolve",-1)),w("div",ug,[s[1]||(s[1]=D(" Kinds: ",-1)),w("button",{onClick:s[0]||(s[0]=r=>t.value=!t.value)},F(t.value?"all":"user"),1)]),(f(!0),p(b,null,Y(e.result.kindEnv,(r,i)=>(f(),p(b,{key:i},[t.value||i in e.result.modRes.dataDict?(f(),p("div",fg,[x(ct,{type:ue(B)(i),"has-parent":!0},null,8,["type"]),s[2]||(s[2]=w("span",{class:"node-sym node-spaced"},"::",-1)),x(Mi,{kind:r},null,8,["kind"])])):U("",!0)],64))),128))]))}}),pg={class:"err section"},hg=Ae({__name:"ResolveErr",props:{err:{}},setup(e){return(t,n)=>(f(),p("div",pg,[n[2]||(n[2]=w("div",{class:"badge"},"resolve",-1)),n[3]||(n[3]=D(" Resolve Error: ",-1)),e.err.type==="Duplicate"?(f(),p(b,{key:0},[D(" Duplicate "+F(e.err.sub)+" for '"+F(e.err.id)+"'. ",1)],64)):e.err.type==="ConflictDef"?(f(),p(b,{key:1},[D(" Conflicting definitions for '"+F(e.err.id)+"'. ",1)],64)):e.err.type==="MissingDef"?(f(),p(b,{key:2},[D(" Missing definition for '"+F(e.err.id)+"'. ",1)],64)):e.err.type==="UnknownMod"?(f(),p(b,{key:3},[D(" Unknown module '"+F(e.err.modId)+"'. ",1)],64)):e.err.type==="UnifyKindErr"?(f(),p(b,{key:4},[n[0]||(n[0]=D(" Cannot unify kind ",-1)),x(Mi,{kind:e.err.err.lhs},null,8,["kind"]),n[1]||(n[1]=D(" with kind ",-1)),x(Mi,{kind:e.err.err.rhs},null,8,["kind"]),D(" because "+F(e.err.err.type==="Recursion"?"of recursion":e.err.err.type==="DiffShape"?"they are of different shapes":"of unknown reasons")+". ",1)],64)):e.err.type==="NoMain"?(f(),p(b,{key:5},[D(" Undefined entry variable 'main'. ")],64)):e.err.type==="UndefinedCon"?(f(),p(b,{key:6},[D(" Undefined type constructor '"+F(e.err.id)+"'. ",1)],64)):e.err.type==="UndefinedVar"?(f(),p(b,{key:7},[D(" Undefined type variable '"+F(e.err.id)+"'. ",1)],64)):e.err.type==="UnknownImport"?(f(),p(b,{key:8},[D(" Module '"+F(e.err.modId)+"' has no exported symbol '"+F(e.err.id)+"'. ",1)],64)):(f(),p(b,{key:9},[D(F(e.err.type),1)],64))]))}}),yg={class:"root"},mg={class:"section"},gg=Ae({__name:"App",setup(e){window.$node=null;const t=Pt(localStorage.source??""),n=gs(Cs.empty()),s=Te(()=>n.result),r=new bh(n),i=gs(bc());na(()=>{Pn(t,()=>{localStorage.source=t.value,r.run(t.value)},{immediate:!0}),Pn(i,()=>{if(!l.value)return;const u=i.node??i.fixedNode;if(u&&(window.$node=u),!!o.value)if(u){const{start:m,end:g}=u.range;l.value.focus(),l.value.setSelectionRange(m,g)}else l.value.setSelectionRange(null,null)})});const o=Pt(!1),l=On("inputEl"),a=On("leftEl"),d=On("rightEl");return(u,m)=>(f(),p("div",yg,[w("main",null,[w("div",{class:"col",ref_key:"leftEl",ref:a},[w("div",mg,[w("button",{onClick:m[0]||(m[0]=g=>o.value=!o.value)},"Selection: "+F(o.value?"on":"off"),1),pu(w("textarea",{class:"code","onUpdate:modelValue":m[1]||(m[1]=g=>t.value=g),spellcheck:"false",ref_key:"inputEl",ref:l},null,512),[[qf,t.value]])])],512),w("div",{class:"col",ref_key:"rightEl",ref:d},null,512)]),s.value?(f(),xe(Xn,{key:0,to:a.value},[s.value.parse?(f(),p(b,{key:0},[x(lm,{result:s.value,selection:i},null,8,["result","selection"]),(f(),xe(Xn,{to:a.value},[s.value.resolve?(f(),p(b,{key:0},[x(dg,{result:s.value},null,8,["result"]),(f(),xe(Xn,{to:a.value},[s.value.desugar?(f(),p(b,{key:0},[x(mm,{result:s.value},null,8,["result"]),(f(),xe(Xn,{to:a.value},[s.value.check?(f(),p(b,{key:0},[x(pm,{result:s.value},null,8,["result"]),(f(),xe(Xn,{to:d.value},[x(tg,{result:s.value,runner:ue(r),"runner-cache":n},null,8,["result","runner","runner-cache"])],8,["to"]))],64)):(f(),xe(nm,{key:1,err:s.value.err},null,8,["err"]))],8,["to"]))],64)):(f(),xe(ig,{key:1,err:s.value.err},null,8,["err"]))],8,["to"]))],64)):(f(),xe(hg,{key:1,err:s.value.err},null,8,["err"]))],8,["to"]))],64)):(f(),xe(sg,{key:1,err:s.value.err},null,8,["err"]))],8,["to"])):U("",!0),m[2]||(m[2]=w("footer",null,[w("p",null,[w("a",{href:"https://github.com/ForkKILLET/Dicel"},"Dicel"),D(" made by "),w("a",{href:"https://github.com/ForkKILLET",target:"_blank"},"ForkKILLET"),D(" with >_< ")])],-1))]))}});Kf(gg).mount("#app");
